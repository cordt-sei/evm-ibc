(()=>{"use strict";var e,n,t,r={42528:(e,n,t)=>{var r=t(74848),o=t(5338),i=t(96540),a=t(21858);const c=()=>{const{user:e,setShowAuthFlow:n}=(0,a.Ww)();return(0,r.jsx)("div",{children:e?(0,r.jsxs)("p",{children:["Connected: ",(null==e?void 0:e.email)||"Wallet Connected"]}):(0,r.jsx)("button",{onClick:()=>{n(!0)},children:"Connect Wallet"})})},s="https://api.sei.basementnodes.ca";var l=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))};const u=({setSelectedToken:e})=>{const[n,t]=(0,i.useState)([]),{primaryWallet:o}=(0,a.Ww)(),c=null==o?void 0:o.address;return(0,i.useEffect)((()=>{l(void 0,void 0,void 0,(function*(){if(c)try{const n=yield function(e){return n=this,t=void 0,o=function*(){const n=yield fetch(`${s}/cosmos/bank/v1beta1/balances/${e}`);return(yield n.json()).balances.filter((e=>e.denom.startsWith("ibc/")))},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function c(e){try{s(o.throw(e))}catch(e){i(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((o=o.apply(n,t||[])).next())}));var n,t,r,o}(c),r=yield Promise.all(n.map((e=>l(void 0,void 0,void 0,(function*(){try{const{channel:n,baseDenom:t}=yield function(e){return n=this,t=void 0,o=function*(){const n=e.split("/")[1],t=yield fetch(`${s}/ibc/apps/transfer/v1/denom_traces/${n}`),r=yield t.json(),o=r.denom_trace.path,i=r.denom_trace.base_denom;return{channel:o.split("/")[1],baseDenom:i}},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function c(e){try{s(o.throw(e))}catch(e){i(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((o=o.apply(n,t||[])).next())}));var n,t,r,o}(e.denom);return{denom:e.denom,channel:n,baseDenom:t,amount:e.amount}}catch(n){return console.error(`Error decoding denom for ${e.denom}:`,n),null}})))));t(r.filter((e=>null!==e))),r.length>0&&e(r[0])}catch(e){console.error("Error fetching wallet balances:",e)}else console.warn("Wallet address is missing or invalid.")}))}),[c,e]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Token List"}),(0,r.jsx)("ul",{children:0===n.length?(0,r.jsx)("li",{children:"No tokens found"}):n.map(((e,n)=>(0,r.jsxs)("li",{children:[e.baseDenom," (",e.amount,") - Channel: ",e.channel]},n)))})]})};const d=()=>{const[e,n]=(0,i.useState)(""),[t,o]=(0,i.useState)(""),[a,c]=(0,i.useState)(null),[l,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(null);return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"IBC Transfer"}),h&&(0,r.jsx)("p",{style:{color:"red"},children:h}),(0,r.jsx)(u,{setSelectedToken:c}),(0,r.jsx)("input",{type:"text",placeholder:"Receiver Address",value:e,onChange:e=>n(e.target.value)}),(0,r.jsx)("input",{type:"number",placeholder:"Amount",value:t,onChange:e=>o(e.target.value)}),(0,r.jsx)("button",{onClick:()=>{return n=void 0,r=void 0,i=function*(){if(e&&t&&a?/^0x[a-fA-F0-9]{40}$/.test(e)?isNaN(Number(t))||Number(t)<=0?(f("Please enter a valid amount greater than 0."),0):(f(null),1):(f("Please enter a valid receiver address."),0):(f("Please fill out all fields and select a token."),0))try{d(!0);const n=1e6*(Date.now()+6e5);if(!a)return void console.error("No token selected.");const r=yield function(e){return n=this,t=void 0,o=function*(){const n=yield fetch(`${s}/ibc/core/channel/v1/channels/${e}/ports/transfer/client_state`),t=yield n.json(),r=yield fetch(`${s}/ibc/core/connection/v1/connections/${e}`),o=yield r.json();return{clientId:o.connection.client_id,counterpartyClientId:o.connection.counterparty.client_id,counterpartyConnectionId:o.connection.counterparty.connection_id,revision_number:t.proof_height.revision_number,revision_height:t.proof_height.revision_height}},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function c(e){try{s(o.throw(e))}catch(e){i(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}s((o=o.apply(n,t||[])).next())}));var n,t,r,o}(a.channel),{revision_number:o,revision_height:i}=r,c=yield function({sourcePort:e,sourceChannel:n,token:t,sender:r,receiver:o,timeoutHeight:i,timeoutTimestamp:a,memo:c=""}){return s=this,l=void 0,d=function*(){return{body:{messages:[{"@type":"/ibc.applications.transfer.v1.MsgTransfer",source_port:e,source_channel:n,token:t,sender:r,receiver:o,timeout_height:i,timeout_timestamp:a,memo:c}],memo:c},auth_info:{signer_infos:[],fee:{amount:[],gas_limit:"200000",payer:"",granter:""}},signatures:[]}},new((u=void 0)||(u=Promise))((function(e,n){function t(e){try{o(d.next(e))}catch(e){n(e)}}function r(e){try{o(d.throw(e))}catch(e){n(e)}}function o(n){var o;n.done?e(n.value):(o=n.value,o instanceof u?o:new u((function(e){e(o)}))).then(t,r)}o((d=d.apply(s,l||[])).next())}));var s,l,u,d}({sourcePort:"transfer",sourceChannel:a.channel,token:{denom:a.denom,amount:t},sender:"walletAddress",receiver:e,timeoutHeight:{revision_number:o,revision_height:i},timeoutTimestamp:n,memo:""});console.log("Constructed IBC Tx:",c),alert("Transaction submitted successfully!")}catch(e){console.error("Error submitting transaction:",e),f("An error occurred while submitting the transaction.")}finally{d(!1)}},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{s(i.next(e))}catch(e){t(e)}}function c(e){try{s(i.throw(e))}catch(e){t(e)}}function s(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,c)}s((i=i.apply(n,r||[])).next())}));var n,r,o,i},disabled:l,children:l?(0,r.jsx)("span",{children:"Submitting..."}):"Submit Transfer"})]})},h=document.getElementById("root");if(!h)throw new Error("Root element not found");o.createRoot(h).render((0,r.jsx)(a.y0,{settings:{environmentId:"5b99a3f2-fb21-448b-8d2c-84c2bae6bf57"},children:(0,r.jsx)((()=>{const[e,n]=(0,i.useState)(null),{primaryWallet:t}=(0,a.Ww)(),o=null==t?void 0:t.address;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"IBC Transfer UI"}),(0,r.jsxs)("p",{children:["Connected Wallet: ",o||"No wallet connected"]}),(0,r.jsx)(c,{}),(0,r.jsx)(u,{setSelectedToken:n}),(0,r.jsx)(d,{})]})}),{})}))}},o={};function i(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={id:e,loaded:!1,exports:{}};return r[e](t,t.exports,i),t.loaded=!0,t.exports}i.m=r,e=[],i.O=(n,t,r,o)=>{if(!t){var a=1/0;for(u=0;u<e.length;u++){for(var[t,r,o]=e[u],c=!0,s=0;s<t.length;s++)(!1&o||a>=o)&&Object.keys(i.O).every((e=>i.O[e](t[s])))?t.splice(s--,1):(c=!1,o<a&&(a=o));if(c){e.splice(u--,1);var l=r();void 0!==l&&(n=l)}}return n}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[t,r,o]},i.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return i.d(n,{a:n}),n},i.d=(e,n)=>{for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((n,t)=>(i.f[t](e,n),n)),[])),i.u=e=>e+".3210e195571961b2b844.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),n={},t="ibc-transfer-ui:",i.l=(e,r,o,a)=>{if(n[e])n[e].push(r);else{var c,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==t+o){c=d;break}}c||(s=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.setAttribute("data-webpack",t+o),c.src=e),n[e]=[r];var h=(t,r)=>{c.onerror=c.onload=null,clearTimeout(f);var o=n[e];if(delete n[e],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=h.bind(null,c.onerror),c.onload=h.bind(null,c.onload),s&&document.head.appendChild(c)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var n=i.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");if(t.length)for(var r=t.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=t[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={8792:0};i.f.j=(n,t)=>{var r=i.o(e,n)?e[n]:void 0;if(0!==r)if(r)t.push(r[2]);else{var o=new Promise(((t,o)=>r=e[n]=[t,o]));t.push(r[2]=o);var a=i.p+i.u(n),c=new Error;i.l(a,(t=>{if(i.o(e,n)&&(0!==(r=e[n])&&(e[n]=void 0),r)){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+n+" failed.\n("+o+": "+a+")",c.name="ChunkLoadError",c.type=o,c.request=a,r[1](c)}}),"chunk-"+n,n)}},i.O.j=n=>0===e[n];var n=(n,t)=>{var r,o,[a,c,s]=t,l=0;if(a.some((n=>0!==e[n]))){for(r in c)i.o(c,r)&&(i.m[r]=c[r]);if(s)var u=s(i)}for(n&&n(t);l<a.length;l++)o=a[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(u)},t=self.webpackChunkibc_transfer_ui=self.webpackChunkibc_transfer_ui||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var a=i.O(void 0,[9329,2256,5390,7914,9917,6375,8417,6224,1961,8770,7587,2918,8838,9131,3988,7116,3748,1578,7072,1116,1781,3491,4750,1479,4046,3479,1162,5335,2150,3958,3789,3857,1886,9654,1196,1748,4118,9706,8391,4219,6346,6086,4507,8845,6553,1247,4702,178,4476],(()=>i(42528)));a=i.O(a)})();