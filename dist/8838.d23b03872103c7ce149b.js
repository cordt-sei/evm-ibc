"use strict";(self.webpackChunkibc_transfer_ui=self.webpackChunkibc_transfer_ui||[]).push([[8838],{68404:(e,a,n)=>{n.d(a,{_:()=>s}),n(96540),n(12174),n(29109),n(60445),n(83650),n(46759),n(69648),n(88393),n(80066),n(74848),n(41253),n(95821),n(3418),n(48702),n(10941),n(16219),n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(95081),n(100),n(58080),n(53006),n(11012),n(71172),n(14624),n(44432),n(79903),n(53454),n(74566),n(85168),n(71092),n(26968),n(56950),n(43433),n(87583),n(30261),n(96696),n(58169),n(23121),n(4623),n(22923),n(44917),n(94734),n(26490),n(10647),n(78080),n(95253),n(44719),n(79620),n(59553),n(31448),n(98592),n(18983),n(21858),n(80622);var t=n(26048),r=n(16376),o=n(93850);n(31825);const s=()=>((0,r.s)(),(0,t.E)(),(0,o.T)(),null)},21416:(e,a,n)=>{n.d(a,{Q:()=>s});var t=n(29109),r=n(74848),o=n(90054);const s=e=>{var{className:a=""}=e,n=(0,t.T)(e,["className"]);return(0,r.jsx)("button",Object.assign({className:(0,o.x)("text-button",a)},n))}},21870:(e,a,n)=>{n.d(a,{l:()=>s});var t=n(29109),r=n(74848),o=n(90054);const s=e=>{var{icon:a,variant:n="primary",className:s}=e,i=(0,t.T)(e,["icon","variant","className"]);return(0,r.jsxs)("label",{className:(0,o.x)("toggle",s),children:[(0,r.jsx)("input",Object.assign({type:"checkbox",className:"toggle--input"},i)),(0,r.jsx)("div",{className:(0,o.x)("toggle--content",`toggle--content__variant-${n}`),children:(0,r.jsx)("div",{className:"toggle--knob",children:a})})]})}},34874:(e,a,n)=>{n.d(a,{d:()=>u});var t=n(74848),r=n(96540),o=n(90054),s=n(21416),i=n(43728),l=(n(46759),n(69648),n(88393),n(80066),n(52085)),c=n(86357),d=(n(41253),n(95821),n(60445),n(3418),n(48702),n(10941),n(16219),n(100),n(58080),n(12174),n(29109),n(83650),n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(95081),n(58169),n(53006),n(74566),n(85168),n(71092),n(79620),n(22923),n(23121),n(59553),n(17632));n(78080),n(11012),n(79903),n(30261),n(96696),n(44719),n(14624),n(53454),n(31448),n(95253),n(98592),n(18983),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968),n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583);const u=({initialState:e=!1,onClick:a,className:n=""})=>{const[u,m]=(0,r.useState)(e);return(0,t.jsx)(s.Q,{className:(0,o.x)("toggle-visibility-button__container",n),onClick:e=>(e=>{e.preventDefault(),m((e=>{const n=!e;return null==a||a(n),n}))})(e),children:(0,t.jsx)(i.m,{className:"toggle-visibility-button__tooltip",content:u?"Show":"Hide",children:(0,t.jsx)(d.I,{size:"medium",color:"text-tertiary",children:u?(0,t.jsx)(c.h,{}):(0,t.jsx)(l.h,{})})})})}},8861:(e,a,n)=>{n.d(a,{Z:()=>b});var t=n(74848),r=n(96540),o=n(44128),s=(n(46759),n(69648),n(88393),n(80066),n(41253),n(95821),n(60445),n(3418),n(48702),n(10941),n(16219)),i=(n(83650),n(12174),n(29109),n(54769),n(60337),n(4402),n(11011),n(40337),n(27439)),l=(n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574)),c=(n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(95081),n(100),n(58080),n(53006)),d=(n(11012),n(71172),n(14624)),u=(n(44432),n(79903),n(53454),n(74566),n(85168),n(71092),n(26968),n(56950),n(43433),n(87583),n(30261),n(96696),n(58169),n(23121),n(4623),n(22923),n(44917),n(94734),n(26490),n(10647),n(78080),n(95253),n(44719),n(62274));const m=()=>{const{changeTheme:e,theme:a}=(0,l.wR)();return(0,t.jsx)(u.d,{firstButton:{active:"light"===a.theme.name,handleButtonClick:()=>e("light"),name:"Light"},secondButton:{active:"dark"===a.theme.name,handleButtonClick:()=>e("dark"),name:"Dark"},thirdButton:{active:"auto"===a.theme.name,handleButtonClick:()=>e("auto"),name:"Auto"}})},v=()=>{const{changePrimaryColor:e,theme:a}=(0,l.wR)(),[n,o]=(0,r.useState)(a.customColor);return(0,t.jsx)(d.p,{id:"primary-color",label:"Primary color",value:n,onChange:e=>o(e.target.value),onBlur:t=>{const r=n||a.customColor;o(r),e(r)}})};var y=n(23536);const h=({authMode:e,setAuthMode:a})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"auth-mode-switch__container",children:[(0,t.jsx)(y.S,{checked:"connect-and-sign"===e,onChange:()=>a("connect-and-sign"),id:"connect-and-sign"}),(0,t.jsx)("label",{htmlFor:"connect-and-sign",children:(0,t.jsx)(o.o,{color:"primary",weight:"regular",children:"Connect and sign"})})]}),(0,t.jsxs)("div",{className:"auth-mode-switch__container",children:[(0,t.jsx)(y.S,{checked:"connect-only"===e,onChange:()=>a("connect-only"),id:"connect-only"}),(0,t.jsx)("label",{htmlFor:"connect-only",children:(0,t.jsx)(o.o,{color:"primary",weight:"regular",children:"Connect only"})})]})]});n(79620),n(59553),n(31448),n(98592),n(18983),n(21858),n(80622),n(31825);var _=n(89809);const p=()=>{const{loginWithEmail:e,setLogInWithEmail:a}=(0,_.J)();return(0,t.jsx)(u.d,{firstButton:{active:e,handleButtonClick:()=>a(!0),name:"True"},secondButton:{active:!e,handleButtonClick:()=>a(!1),name:"False"}})},x=()=>{const{authorizationViewDisplayOrder:e,setAuthorizationViewDisplayOrder:a,loginWithEmail:n}=(0,_.J)();return(0,t.jsx)(u.d,{disabled:!n,firstButton:{active:"web2"===e,handleButtonClick:()=>a("web2"),name:"Email"},secondButton:{active:"web3"===e,handleButtonClick:()=>a("web3"),name:"Wallet"}})};var j=n(72774);const g=()=>{const{theme:e,changeTemplate:a}=(0,l.wR)();return(0,t.jsxs)(j.l,{label:"template",value:e.template,onChange:e=>{a(e.target.value)},selectDataTestId:"template-select",children:[(0,t.jsx)("option",{value:"default",children:"Default"}),(0,t.jsx)("option",{value:"matrix",children:"Matrix"}),(0,t.jsx)("option",{value:"minimal",children:"Minimal"}),(0,t.jsx)("option",{value:"rounded",children:"Rounded"}),(0,t.jsx)("option",{value:"trinity",children:"Trinity"})]})},b=()=>{const{projectSettings:e,user:a,showAuthFlow:n,showDynamicUserProfile:l,toolkitEnabled:d,authMode:u,setAuthMode:y}=(0,_.J)();return(0,r.useMemo)((()=>!!d&&(l||n)),[n,l,d])?(0,t.jsx)(c.rM,{dataTestId:"toolkit-shadowdom",className:"toolkit-shadowdom",zIndex:s.BR,children:(0,t.jsxs)("div",{className:"toolkit__container",children:[(0,t.jsxs)("div",{className:"toolkit__switcher",children:[(0,t.jsx)(o.o,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Theme"}),(0,t.jsx)(m,{})]}),(0,t.jsxs)("div",{className:"toolkit__switcher",children:[(0,t.jsx)(o.o,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Template"}),(0,t.jsx)(g,{})]}),(0,t.jsxs)("div",{className:"toolkit__switcher",children:[(0,t.jsx)(o.o,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Primary Color"}),(0,t.jsx)(v,{})]}),!a&&(0,t.jsxs)("div",{className:"toolkit__switcher",children:[(0,t.jsx)(o.o,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Auth mode"}),(0,t.jsx)(h,{authMode:u,setAuthMode:y})]}),(0,i.V)((null==e?void 0:e.providers)||[])&&!a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"toolkit__switcher",children:[(0,t.jsx)(o.o,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Log in with Email"}),(0,t.jsx)(p,{})]}),(0,t.jsxs)("div",{className:"toolkit__switcher",children:[(0,t.jsx)(o.o,{className:"switcher__copy",as:"h2",variant:"body_normal",children:"Email vs Wallet priority"}),(0,t.jsx)(x,{})]})]})]})}):null}},43728:(e,a,n)=>{n.d(a,{m:()=>y});var t=n(74848),r=n(96540),o=n(40961),s=(n(46759),n(69648),n(88393),n(80066),n(24013)),i=(n(41253),n(95821),n(41049)),l=(n(60445),n(3418),n(48702),n(10941),n(16219)),c=n(90054),d=(n(12174),n(29109),n(83650),n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(74456)),u=(n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(95081),n(100),n(58080),n(22312)),m=n(53006);n(11012),n(71172),n(14624),n(44432),n(79903),n(53454),n(74566),n(85168),n(71092),n(26968),n(56950),n(43433),n(87583),n(30261),n(96696),n(58169),n(23121),n(4623),n(22923),n(44917),n(94734),n(26490),n(10647),n(78080),n(95253),n(44719),n(79620),n(59553),n(31448),n(98592),n(18983),n(21858),n(80622),n(31825);const v={onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseUp:"mouseup"},y=({children:e,content:a,className:n,as:y="span",copykey:h,targetRef:_})=>{const{createRootElement:p}=(0,d.k)(),x=p("dynamic-tooltips"),[j,g]=(0,r.useState)([0,0]),[b,f]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),k=null!=_?_:N,C=(0,r.useCallback)((()=>{if(!k)return;const e=k.getBoundingClientRect();g([e.left+e.width/2,e.top-6])}),[k]),[,S]=(0,u.M)({falseOnClick:!0,initialValue:!1,onHover:()=>{C(),f(!0)},onHoverOff:()=>{f(!1)}});return(0,r.useEffect)((()=>{C();const e=(0,i.s)((()=>{C()}),3);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[C]),(0,r.useEffect)((()=>{const e=k;if(e){for(const a in S)e.addEventListener(v[a],S[a]);return()=>{for(const a in S)e.removeEventListener(v[a],S[a])}}}),[k,S]),(0,t.jsxs)(t.Fragment,{children:[(0,o.createPortal)((0,t.jsx)(m.rM,{zIndex:l.ut,children:(0,t.jsxs)("div",{"data-testid":"dynamicTooltip",className:(0,c.x)("dynamic-tooltip",{"dynamic-tooltip--visible":b},n),style:{left:j[0],top:j[1]},copykey:h,children:[a,(0,t.jsx)(s.h,{className:"dynamic-tooltip__arrow"})]})}),x.current),void 0===_&&(0,t.jsx)(y,{ref:w,children:e})]})}},10312:(e,a,n)=>{n.d(a,{W:()=>i});var t=n(74848),r=(n(96540),n(83650),n(46759),n(69648),n(88393),n(80066),n(41253),n(95821),n(60445),n(3418),n(48702),n(10941),n(16219),n(12174),n(29109),n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(53894)),o=(n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(95081),n(100),n(58080),n(44128)),s=(n(53006),n(11012),n(71172),n(14624),n(44432),n(79903),n(53454),n(74566),n(85168),n(71092),n(26968),n(56950),n(43433),n(87583),n(30261),n(96696),n(58169),n(23121),n(4623),n(22923),n(44917),n(94734),n(26490),n(10647),n(78080),n(95253),n(44719),n(79620),n(59553),n(31448),n(98592),n(18983),n(21858),n(80622),n(31825),n(89809));const i=()=>{const{user:e,authMode:a,customPrivacyPolicy:n,customTermsOfServices:i,privacyPolicyUrl:l,termsOfServiceUrl:c}=(0,s.J)(),d=(0,r.N)(e,a)?"connecting":"logging in";return(0,t.jsxs)(t.Fragment,{children:[(l||c)&&(0,t.jsxs)(o.o,{variant:"body_small",weight:"regular",className:"tos-and-pp__text",children:["By ",d,", you agree to",(0,t.jsx)("br",{}),"our ",(()=>{if(c)return(0,t.jsx)("a",{className:"tos-and-pp__link",href:c,target:"_blank",rel:"noreferrer",children:"Terms of Service"})})(),(()=>{if(l)return(0,t.jsxs)(t.Fragment,{children:[c&&(0,t.jsx)(t.Fragment,{children:" & "}),(0,t.jsx)("a",{className:"tos-and-pp__link",href:l,target:"_blank",rel:"noreferrer",children:"Privacy Policy"})]})})(),"."]}),i,n]})}},90424:(e,a,n)=>{n.d(a,{j:()=>O});var t=n(74848),r=n(95081),o=n(96540),s=(n(83650),n(46759),n(69648),n(88393),n(80066),n(88005)),i=n(91398),l=n(95722),c=n(41253),d=(n(95821),n(60445),n(3418),n(48702),n(1543)),u=(n(10941),n(16219),n(12174),n(29109),n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(30089)),m=(n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(32482)),v=(n(30593),n(7085),n(87237),n(5678)),y=(n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(100),n(58080),n(58924)),h=n(44128),_=n(17632),p=(n(53006),n(36100)),x=n(11012),j=(n(71172),n(14624),n(44432),n(79903),n(53454),n(74566),n(85168),n(71092),n(63262)),g=n(95540),b=n(24536),f=n(26968),N=(n(56950),n(43433),n(83178)),w=(n(87583),n(55968)),k=(n(30261),n(96696),n(58169),n(23121),n(4623),n(22923),n(44917),n(94734),n(26490),n(10647),n(78080),n(95253)),C=n(44719),S=n(96237),E=n(41577),P=n(49795),T=n(29213),F=n(43728),I=n(15730),$=n(10528),B=(n(79620),n(59553),n(31448),n(98592),n(18983),n(21858),n(80622),n(31825),n(89809));const V=({transaction:e,simulationResult:a,isGasSponsored:n,isAATransaction:s,recipient:i})=>{var l,c,d,u,m,v;const{t:y}=(0,r.Bd)(),{primaryWallet:p,projectSettings:x,overrides:j}=(0,B.J)(),g=(0,$.r)({evmNetworksOverrides:null==j?void 0:j.evmNetworks,projectSettings:x}),{chain:b}=(0,I.$)(null==p?void 0:p.connector),f=(0,T.V)(b,g),{symbol:N,decimals:w}=null!==(l=null==f?void 0:f.nativeCurrency)&&void 0!==l?l:{},k=null==a?void 0:a.showTotalFiat,C=(0,o.useMemo)((()=>{var n;const t=null===(n=null==a?void 0:a.priceData)||void 0===n?void 0:n.nativeTokenUsdPrice;if(t&&w)return Number(t)*Number(e.fee.gas)/Math.pow(10,w)}),[a,w,e.fee.gas]),S=(0,o.useMemo)((()=>{var e;const t=(null===(e=null==a?void 0:a.outAssets)||void 0===e?void 0:e.reduce(((e,a)=>{var n;const t=(null===(n=a.transferOut)||void 0===n?void 0:n.reduce(((e,a)=>e+Number((null==a?void 0:a.usdPrice)||0)),0))||0;return e+t}),0))||0;return k&&s?t:t+("SOL"===N||n?0:C||0)}),[null==a?void 0:a.outAssets,N,C]),V=(a,n,r)=>{var o,s;return"NATIVE"!==a.asset.type&&"SOL"!==a.asset.type||"Solana"!==a.asset.chainName||!e.fee.gas||(a.amount=(Number(a.amount)-Number(e.fee.gas)/Math.pow(10,9)).toString(),a.usdPrice=(Number(a.usdPrice)-Number(C)).toString()),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`transaction-card__${a.direction}`,children:(0,t.jsxs)("div",{className:"transaction-card__info-container",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",children:"in"===a.direction?"Receive":"Send"}),(0,t.jsxs)("div",{className:"transaction-card__amount-symbol",children:[(0,t.jsxs)("div",{className:"transaction-card__token-info",children:[(0,t.jsxs)("div",{className:"transaction-card__token-row",children:[(0,t.jsxs)(h.o,{variant:"body_normal",color:"in"===a.direction?"green-1":"error-1",children:["out"===a.direction?"-":"+",(()=>{const e=Number(a.amount);return Number.isInteger(e)?e:e<1e-6?"<0.000001":e.toFixed(6)})()]}),(0,t.jsx)(h.o,{variant:"body_normal",color:"primary",children:null!==(o=a.asset.symbol||a.asset.name)&&void 0!==o?o:N})]}),Number(a.usdPrice)>0&&(0,t.jsx)(h.o,{variant:"body_small",color:"in"===a.direction?"green-1":"error-1",children:(()=>{const e=Number(a.usdPrice);return e<.01?"<$0.01":`$${e.toFixed(2)}`})()})]}),(0,t.jsx)("div",{className:"transaction-card__icon",children:(0,t.jsx)("div",{className:"transaction-card__icon__container",children:(0,t.jsx)("img",{src:a.asset.logoUrl||(null==f?void 0:f.nativeCurrency.iconUrl),alt:null!==(s=a.asset.symbol)&&void 0!==s?s:N,width:32,height:32,className:"transaction-card__icon__container__main"})})})]})]})}),n<r.length-1&&(0,t.jsx)("div",{className:"transaction-card__divider"})]})},M=(null===(c=null==a?void 0:a.inAssets)||void 0===c?void 0:c.flatMap((e=>{var a;return(null===(a=e.transferIn)||void 0===a?void 0:a.map((a=>{var n,t;return{amount:null!==(n=null==a?void 0:a.value)&&void 0!==n?n:"",asset:e.asset,direction:"in",usdPrice:null!==(t=null==a?void 0:a.usdPrice)&&void 0!==t?t:""}})))||[]})))||[],O=(null===(d=null==a?void 0:a.outAssets)||void 0===d?void 0:d.flatMap((e=>{var a;return(null===(a=e.transferOut)||void 0===a?void 0:a.map((a=>{var n,t;return{amount:null!==(n=null==a?void 0:a.value)&&void 0!==n?n:"",asset:e.asset,direction:"out",usdPrice:null!==(t=null==a?void 0:a.usdPrice)&&void 0!==t?t:""}})))||[]})))||[],R=[...O.filter((a=>!(("NATIVE"===a.asset.type||"SOL"===a.asset.type)&&"Solana"===a.asset.chainName&&Number(a.amount)===Number(e.fee.gas)/Math.pow(10,9)))).filter((a=>!("NATIVE"===a.asset.type&&"EVM"===e.chain&&!e.value))),...M];return(0,t.jsxs)("div",{className:"transaction-card-container",children:[R.length>0&&(0,t.jsx)("div",{className:"transaction-card",children:(0,t.jsx)("div",{className:"transaction-card__assets-container",children:R.map(((e,a,n)=>(0,t.jsx)(o.Fragment,{children:V(e,a,n)},`asset-${a}`)))})}),(0,t.jsx)("div",{className:"transaction-card",children:(0,t.jsxs)("div",{className:"transaction-card__details",children:[i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"transaction-card__row",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.recipient",children:y("dyn_send_transaction.confirmation.data.recipient")}),(0,t.jsx)(h.o,{variant:"body_normal",color:"primary","data-testid":"transaction-recipient",children:(0,P.F)(i,4,4)})]}),(0,t.jsx)("div",{className:"transaction-card__divider"})]}),!i&&(e.to||(null===(u=null==a?void 0:a.counterparties)||void 0===u?void 0:u[0]))&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"transaction-card__row",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.destination",children:y("dyn_send_transaction.confirmation.data.destination")}),(0,t.jsx)(h.o,{variant:"body_normal",color:"primary","data-testid":"transaction-destination",children:(0,P.F)(null!==(m=e.to)&&void 0!==m?m:null===(v=null==a?void 0:a.counterparties)||void 0===v?void 0:v[0],4,4)})]}),(0,t.jsx)("div",{className:"transaction-card__divider"})]}),(0,t.jsxs)("div",{className:"transaction-card__row",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.network",children:y("dyn_send_transaction.confirmation.data.network")}),(0,t.jsxs)("div",{className:"transaction-card__network-info",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"primary",children:(null==f?void 0:f.name)||"Ethereum"}),(0,t.jsx)("img",{src:null==f?void 0:f.iconUrls[0],alt:(null==f?void 0:f.name)||"Network icon",width:16,height:16,className:"transaction-card__network-icon"})]})]}),!n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"transaction-card__divider"}),(0,t.jsxs)("div",{className:"transaction-card__row",children:[(0,t.jsxs)("div",{className:"transaction-card__label-with-tooltip",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.gas_estimate",children:y("dyn_send_transaction.confirmation.data.gas_estimate")}),(0,t.jsx)(F.m,{content:"Network fees are paid to process your transaction",className:"transaction-confirmation",children:(0,t.jsx)(_.I,{size:"small",className:"fee-tooltip",children:(0,t.jsx)(E.h,{})})})]}),(0,t.jsx)("div",{className:"transaction-card__value",children:(0,t.jsx)(h.o,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-gas-fee",children:C?(e=>{if(e)return e<.01?"<$0.01":`~$${e.toFixed(2)}`})(C):e.fee.gas?`${e.format(e.fee.gas,{precision:6})} ${N}`:`-- ${N}`})})]})]}),k&&void 0!==S&&S>0&&!(s&&!n)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"transaction-card__divider"}),(0,t.jsxs)("div",{className:"transaction-card__row",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",weight:"bold",copykey:"dyn_send_transaction.confirmation.data.total",children:y("dyn_send_transaction.confirmation.data.total")}),(0,t.jsx)("div",{className:"transaction-card__total-amount",children:(0,t.jsx)(h.o,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-total",children:(e=>{if(e)return e<.01?"<$0.01":`~$${e.toFixed(2)}`})(S)})})]})]})]})})]})},M=({transaction:e,currentToken:a,currencySymbol:n,valueRounded:r,transactionValue:o,isGasSponsored:s,gasFiatValue:i,totalGasFiatValue:l,currency:c,total:d,t:u,walletKey:m})=>{const{primaryWallet:v,projectSettings:y,overrides:p}=(0,B.J)(),x=(0,$.r)({evmNetworksOverrides:null==p?void 0:p.evmNetworks,projectSettings:y}),{chain:j}=(0,I.$)(null==v?void 0:v.connector),g=(0,T.V)(j,x);return(0,t.jsxs)("div",{className:"transaction-card-container",children:[(0,t.jsx)("div",{className:"transaction-card",children:(0,t.jsx)("div",{className:"transaction-card__assets-container",children:(0,t.jsx)("div",{className:"transaction-card__out",children:(0,t.jsxs)("div",{className:"transaction-card__info-container",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",children:u("dyn_send_transaction.confirmation.data.transfer.send")}),(0,t.jsxs)("div",{className:"transaction-card__amount-symbol",children:[(0,t.jsxs)("div",{className:"transaction-card__token-info",children:[(0,t.jsxs)("div",{className:"transaction-card__token-row",children:[(0,t.jsxs)(h.o,{variant:"body_normal",color:"error-1","data-testid":"transaction-transfer-amount",children:["-",r||((null==e?void 0:e.value)?e.format(e.value,{precision:6}):"")]}),(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",children:n})]}),o&&(0,t.jsxs)(h.o,{variant:"body_small",color:"error-1","data-testid":"transaction-transfer-amount-fiat",children:["$",(0,S.s7)(Number(o)||Number(r)||0,a)]})]}),(0,t.jsx)("div",{className:"transaction-card__icon",children:(0,t.jsx)("div",{className:"transaction-card__icon__container",children:(0,t.jsx)("img",{src:(null==a?void 0:a.logoURI)||(null==g?void 0:g.nativeCurrency.iconUrl),alt:n,width:32,height:32,className:"transaction-card__icon__container__main"})})})]})]})})})}),(0,t.jsx)("div",{className:"transaction-card",children:(0,t.jsxs)("div",{className:"transaction-card__details",children:[(0,t.jsxs)("div",{className:"transaction-card__row",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.destination",children:u("dyn_send_transaction.confirmation.data.destination")}),(0,t.jsx)(h.o,{variant:"body_normal",color:"primary","data-testid":"transaction-destination",children:(0,P.F)(e.to,4,4)})]}),!s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"transaction-card__divider"}),(0,t.jsxs)("div",{className:"transaction-card__row",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary","data-testid":"transaction-network",copykey:"dyn_send_transaction.confirmation.data.network",children:u("dyn_send_transaction.confirmation.data.network")}),(0,t.jsxs)("div",{className:"transaction-card__network-info",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"primary",children:(null==g?void 0:g.name)||"Ethereum"}),(0,t.jsx)("img",{src:(null==g?void 0:g.iconUrls[0])||(null==j?void 0:j.icon),alt:(null==g?void 0:g.name)||"Network icon",width:16,height:16,className:"transaction-card__network-icon"})]})]}),(0,t.jsx)("div",{className:"transaction-card__divider"}),(0,t.jsxs)("div",{className:"transaction-card__row",children:[(0,t.jsxs)("div",{className:"transaction-card__label-with-tooltip",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",copykey:"dyn_send_transaction.confirmation.data.gas_estimate",children:u("dyn_send_transaction.confirmation.data.gas_estimate")}),(0,t.jsx)(F.m,{content:"Network fees are paid to process your transaction",className:"transaction-confirmation",children:(0,t.jsx)(_.I,{size:"small",className:"fee-tooltip",children:(0,t.jsx)(E.h,{})})})]}),(0,t.jsx)("div",{className:"transaction-card__value",children:(null==a?void 0:a.price)?(0,t.jsx)(h.o,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-gas-fee",children:Number(i)<=.01?"<$0.01":`$${i}`}):(0,t.jsxs)(h.o,{variant:"body_normal",color:"primary","data-testid":"transaction-estimated-gas-fee",children:[e.fee.gas?e.format(e.fee.gas,{precision:6}):"--"," ",c]})})]}),(0,t.jsx)("div",{className:"transaction-card__divider"}),(0,t.jsxs)("div",{className:"transaction-card__row",children:[(0,t.jsx)(h.o,{variant:"body_normal",color:"secondary",weight:"bold",copykey:"dyn_send_transaction.confirmation.data.total",children:u("dyn_send_transaction.confirmation.data.total")}),(0,t.jsx)("div",{className:"transaction-card__value",children:(null==a?void 0:a.price)?(0,t.jsx)(h.o,{variant:"body_normal",color:"primary","data-testid":"transaction-total",children:Number(l)<=.01?"<$0.01":`$${l}`}):(0,t.jsxs)(h.o,{variant:"body_normal",color:"primary","data-testid":"transaction-total",children:[d?e.format(d,{precision:6}):"--"," ",c]})})]})]})]})})]})},O=({onClickClose:e,isLoading:a,onClickBack:n,onClickSend:o,disableSendButton:E,displayPoweredByDynamicFooter:P=!1,alert:T,walletConnector:F,transaction:I,currentToken:$,children:O,hideModal:R,onSuccess:A,transactionValue:W,total:D,isGasSponsored:U,isNativeToken:z,walletKey:L,simulationResult:J,sendBalanceTransaction:G,recipient:K})=>{var Q;const{t:H}=(0,r.Bd)(),{isTurnkeyWallet:X}=(0,v.b)(),{setShowAuthFlow:Y}=(0,B.J)(),{setView:q}=(0,c.At)(),{userNeedsCrossDomainPasskey:Z}=(0,k.rM)(),{initPasskeyRecoveryProcess:ee,shouldInitRecovery:ae}=(0,m.V)(),{currency:ne}=(0,w.D)(F),te=(0,S.f8)($,null==ne?void 0:ne.symbol),{nativePrice:re}=(0,C.v_)();(0,S.$V)(F,d.w,A,ae,ee,R);const oe=(0,S.Rx)({isTurnkeyWallet:X,onClickSend:o,userNeedsCrossDomainPasskey:Z,usingSessionKey:d.w,walletConnector:F},{initPasskeyRecoveryProcess:ee,shouldInitRecovery:ae},{setShowAuthFlow:Y,setView:q}),se=e&&(0,t.jsx)(x.K,{type:"button",onClick:e,"data-testid":"close",disabled:a,children:(0,t.jsx)(i.h,{})}),ie=n&&(0,t.jsx)(x.K,{type:"button",onClick:n,"data-testid":"back-button",children:(0,t.jsx)(s.h,{})}),le=(0,u.x)($,I,re),ce=(0,u.y)($,I,re,W);return R?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.r,{trailing:se,leading:ie,alignContent:"bottom",children:(0,t.jsx)("div",{className:"send-balance-page-layout__header-content",children:(0,t.jsx)(h.o,{variant:"title",color:"primary",copykey:"dyn_send_transaction.data.confirmation_tx",children:H("dyn_send_transaction.data.confirmation_tx")})})}),!G&&(0,t.jsx)("div",{className:"transaction-confirmation__banner",children:(0,t.jsx)(h.o,{variant:"body_normal",color:"primary",copykey:"dyn_send_transaction.data.banner",children:H("dyn_send_transaction.data.banner")})}),(0,t.jsx)(f.E,{}),(0,t.jsxs)("div",{className:"transaction-confirmation__body",children:[(0,t.jsxs)("div",{className:"transaction-confirmation__content",children:[G?(0,t.jsx)(M,{transaction:I,currentToken:$,currencySymbol:te,valueRounded:null===(Q=(0,S.$d)(Boolean(z),I))||void 0===Q?void 0:Q.toString(),transactionValue:W,isGasSponsored:U,gasFiatValue:le||"0",totalGasFiatValue:ce||"0",currency:null==ne?void 0:ne.symbol,total:D,t:H,walletKey:L}):(0,t.jsx)(V,{transaction:I,isGasSponsored:U,isAATransaction:"zerodev"===(null==F?void 0:F.key),simulationResult:J,recipient:K}),O&&(0,t.jsx)("div",{className:"transaction-confirmation__rows",children:O})]}),(0,t.jsx)(y.N,{animationComponent:(0,t.jsx)(j.n,{}),children:T&&(0,t.jsx)("div",{className:"transaction-confirmation__warning",children:T})}),(0,t.jsxs)("div",{className:"transaction-confirmation__actions",children:[(n||e)&&(0,t.jsx)(p.E,{buttonVariant:"primary",buttonPadding:"small",onClick:n||e,expanded:!0,disabled:a,copykey:"dyn_send_transaction.confirmation.cancel_button",children:H("dyn_send_transaction.confirmation.cancel_button")}),(0,t.jsx)(p.E,{buttonVariant:"brand-primary",buttonPadding:"small",onClick:oe,expanded:!0,loading:a,disabled:E,copykey:"dyn_send_transaction.confirmation.send",startSlot:(0,t.jsx)(_.I,{size:"small",color:"text-secondary",children:(0,t.jsx)(l.h,{})}),dataTestId:"transaction-confirmation-send",children:H("dyn_send_transaction.confirmation.send")})]}),(0,t.jsx)(b.f,{}),P&&(0,t.jsx)(N.r,{classNameRoot:"transaction-confirmation__footer"})]})]})}},96237:(e,a,n)=>{n.d(a,{$V:()=>d,$d:()=>l,Rx:()=>u,f8:()=>i,s7:()=>c});var t=n(29109),r=(n(46759),n(69648),n(88393),n(80066),n(96540),n(74848),n(41253),n(95821),n(60445),n(3418),n(48702),n(15988)),o=(n(10941),n(16219),n(34037)),s=n(12174);const i=(e,a)=>(null==e?void 0:e.symbol)||a,l=(e,a)=>{let n;return n=e?a.value?a.format(a.value):"0":(null==a?void 0:a.nonNativeValue)&&(null==a?void 0:a.formatNonNativeToken)?a.formatNonNativeToken(a.nonNativeValue,a.nonNativeDecimal||18):"0",(0,o.N)(Number(n),6)},c=(e,a)=>{if(!(null==a?void 0:a.price))return"--";const n=((e,a,n)=>{if(void 0===e||isNaN(e)||!n||!a)return 0;const t=Math.pow(10,n);try{const n=BigInt(Math.round(e*t))*BigInt(Math.round(a*t))/BigInt(t);return Number(n)/t}catch(e){return}})(e,a.price,a.decimals);return void 0===n?"--":0===n||n>=.01?n.toFixed(2):"<0.01"},d=(e,a,n,o,s,i)=>{(0,r.S)((()=>{i&&(0,t.s)(void 0,void 0,void 0,(function*(){(yield o())&&e&&!a(e)&&(yield s("email",{type:"sendTransaction"})),null==n||n("callHandlerOutsideModal")}))}))},u=(e,a,n)=>r=>(0,t.s)(void 0,void 0,void 0,(function*(){const{walletConnector:t,usingSessionKey:o,onClickSend:i,isTurnkeyWallet:l,userNeedsCrossDomainPasskey:c}=e,{shouldInitRecovery:d,initPasskeyRecoveryProcess:u}=a,{setView:m,setShowAuthFlow:v}=n;if(t&&o(t))i(r);else{if((yield d())&&(yield u("email",{type:"sendTransaction"})),l&&c)return m("passkey-new-domain-detected"),v(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),void s.zm.once("passkeyRecoveryCompleted",(()=>{i(r)}));i(r)}}))},38836:(e,a,n)=>{n.d(a,{r:()=>b});var t=n(74848),r=n(95081),o=(n(60445),n(100),n(58080)),s=n(58924),i=(n(96540),n(44128)),l=(n(29109),n(46759),n(69648),n(88393),n(80066),n(8623)),c=n(91398),d=(n(41253),n(95821),n(49795)),u=(n(3418),n(48702),n(10941),n(16219),n(17632)),m=(n(40961),n(12174),n(83650),n(89809)),v=(n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(30089)),y=(n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(83178)),h=(n(58169),n(53006),n(74566),n(85168),n(71092),n(63262)),_=(n(79620),n(22923),n(23121),n(59553),n(78080),n(11012)),p=(n(79903),n(36100)),x=(n(30261),n(96696),n(95540)),j=n(44719),g=(n(14624),n(53454),n(96237));n(31448),n(95253),n(98592),n(18983),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968),n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583);const b=({destinationAddress:e,transactionValue:a,networkCurrency:n,onDone:b,displayPoweredByDynamicFooter:f=!0,onClickClose:N,transaction:w,currentToken:k,isNativeToken:C})=>{const{t:S}=(0,r.Bd)(),{showFiat:E}=(0,m.J)(),{nativePrice:P}=(0,j.v_)(),T=N&&(0,t.jsx)(_.K,{type:"button",onClick:N,"data-testid":"close",children:(0,t.jsx)(c.h,{})}),F=(0,v.y)(k,w,P,a);return(0,t.jsxs)("div",{className:"transaction-status-layout",children:[(0,t.jsx)(x.r,{trailing:T,alignContent:"bottom",children:(0,t.jsx)(u.I,{size:"large",className:"transaction-status-layout__status-icon",children:(0,t.jsx)(l.h,{})})}),(0,t.jsxs)("div",{className:"transaction-status-layout__body",children:[(0,t.jsxs)("div",{className:"transaction-status-layout__sent_to",children:[(0,t.jsxs)(i.o,{variant:"body_small",color:"secondary",className:"transaction-status-layout__title",copykey:"dyn_send_transaction.succeeded.title",children:[S("dyn_send_transaction.succeeded.title")," "]}),(0,t.jsx)(i.o,{variant:"body_small",color:"primary",className:"transaction-status-layout__title",copykey:"dyn_send_transaction.succeeded.title",children:(0,d.F)(e,3,3)})]}),(0,t.jsx)("div",{className:"transaction-status-layout__content",children:(0,t.jsx)("div",{className:"transaction-status-layout__rows",children:(0,t.jsxs)(i.o,{variant:"title",color:"primary",className:"transaction-status-layout__title",copykey:"dyn_send_transaction.succeeded.title",children:[`${(0,g.$d)(C,w)} ${n} `,E&&(null==k?void 0:k.price)&&`($${Number(F)<=.01?"<0.01":F})`]})})}),(0,t.jsx)(s.N,{animationComponent:(0,t.jsx)(h.n,{}),children:(0,t.jsx)("div",{className:"transaction-confirmation__warning",children:(0,t.jsx)(o.F,{variant:"info",copykey:"dyn_send_transaction.info_message.refresh_balance_time",children:S("dyn_send_transaction.info_message.refresh_balance_time")})})}),(0,t.jsx)("div",{className:"transaction-status-layout__actions",children:(0,t.jsx)(p.E,{buttonVariant:"brand-primary",buttonPadding:"small",expanded:!0,onClick:b,loading:!1,copykey:"dyn_send_transaction.succeeded.continue_button",dataTestId:"transaction-done-continue",children:S("dyn_send_transaction.succeeded.continue_button")})}),f&&(0,t.jsx)(y.r,{classNameRoot:"transaction-status-layout__footer"})]})]})}},71092:(e,a,n)=>{n.d(a,{r:()=>l});var t=n(29109),r=n(74848),o=n(96540),s=n(32505);const i={ENTERED:{opacity:1},ENTERING:{opacity:0},EXITING:{opacity:0},UNMOUNT:{opacity:0}},l=o.memo((e=>{var{children:a,style:n,className:o}=e,l=(0,t.T)(e,["children","style","className"]);const{mount:c,stage:d,currentDuration:u}=(0,s.p)(l),m={transition:`opacity ${u}ms linear`},v=i[d];return c?(0,r.jsx)("div",{className:o,style:Object.assign(Object.assign(Object.assign({},m),v),n),children:a}):null}))},85168:(e,a,n)=>{n.d(a,{p:()=>c});var t=n(29109),r=n(74848),o=n(96540),s=n(32505),i=n(46090);const l={ENTERED:{transform:"translateY(0)"},ENTERING:{transform:"translateY(50vh)"},EXITING:{transform:"translateY(50vh)"}},c=o.memo((e=>{var{children:a,className:n,easingFunction:o}=e,c=(0,t.T)(e,["children","className","easingFunction"]);const{mount:d,stage:u,currentDuration:m}=(0,s.p)(c),v=((e,a=i.h)=>({transition:`transform ${e}ms ${a}, opacity ${e}ms ${a}`}))(m,o),y=l[u];return d?(0,r.jsx)("div",{className:n,style:Object.assign(Object.assign({},v),y),children:a}):null}))},63262:(e,a,n)=>{n.d(a,{n:()=>c});var t=n(29109),r=n(74848),o=n(96540),s=(n(12174),n(60445),n(83650),n(46759),n(69648),n(88393),n(80066),n(41253),n(95821),n(3418),n(48702),n(10941),n(16219),n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(15320)),i=(n(30593),n(7085),n(87237),n(80607),n(32505)),l=(n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(95081),n(90054));n(100),n(58080),n(53006),n(11012),n(71172),n(14624),n(44432),n(79903),n(53454),n(74566),n(85168),n(71092),n(26968),n(56950),n(43433),n(87583),n(30261),n(96696),n(58169),n(23121),n(4623),n(22923),n(44917),n(94734),n(26490),n(10647),n(78080),n(95253),n(44719),n(79620),n(59553),n(31448),n(98592),n(18983),n(21858),n(80622),n(31825);const c=e=>{var{style:a,children:n,className:c}=e,d=(0,t.T)(e,["style","children","className"]);const u=(0,o.useRef)(null),m=(0,o.useRef)(null),[v]=(0,s.w)(m),y=(0,o.useMemo)((()=>null==v?void 0:v.height),[v]),{mount:h,stage:_,currentDuration:p}=(0,i.p)(Object.assign({animateOnMount:!1},d)),x=(0,o.useMemo)((()=>h&&"EXITING"!==_&&"UNMOUNT"!==_?y:0),[_,y,h]);return(0,r.jsx)("div",{ref:u,className:(0,l.x)(c,"vertical-drawer-animation"),style:Object.assign(Object.assign({},a),{maxHeight:x,transitionDuration:`${p}ms`}),children:(0,r.jsx)("div",{ref:m,children:h&&n})})}},74566:(e,a,n)=>{n.d(a,{F:()=>c});var t=n(29109),r=n(74848),o=n(96540),s=n(90054),i=n(32505);const l={ENTERED:{opacity:"1",transform:"scale(1)"},ENTERING:{opacity:"0",transform:"scale(0.9)"},EXITING:{opacity:"0",transform:"scale(1.1)"}},c=o.memo((e=>{var{children:a,className:n}=e,o=(0,t.T)(e,["children","className"]);const{mount:c,stage:d,currentDuration:u}=(0,i.p)(o),m={transition:`transform ${v=u}ms linear, opacity ${v}ms linear`};var v;const y=l[d];return c?(0,r.jsx)("div",{className:(0,s.x)(n,"zoom-transition__root"),style:Object.assign(Object.assign({},m),y),children:a}):null}))},44128:(e,a,n)=>{n.d(a,{o:()=>s});var t=n(29109),r=n(74848),o=n(90054);const s=e=>{var{as:a="p",variant:n,weight:s,color:i="primary",transform:l,className:c="",truncate:d=!1,style:u}=e,m=(0,t.T)(e,["as","variant","weight","color","transform","className","truncate","style"]);const v=(0,o.x)("typography",n?{body_mini:"typography--body-mini",body_normal:"typography--body-normal",body_small:"typography--body-small",button_primary:"typography--button-primary",button_secondary:"typography--button-secondary",button_tertiary:"typography--button-tertiary",numbers_big:"typography--numbers-big",numbers_medium:"typography--numbers-medium",title:"typography--title"}[n]:"",s?{bold:"typography--bold",medium:"typography--medium",regular:"typography--regular"}[s]:"",i?{"brand-primary":"typography--brand-primary","error-1":"typography--dynamic-error-1","error-2":"typography--dynamic-error-2","green-1":"typography--connection-green-1",inherit:"typography--inherit",link:"typography--link",primary:"typography--primary",secondary:"typography--secondary",tertiary:"typography--tertiary",tooltip:"typography--tooltip",white:"typography--white"}[i]:"",l?{uppercase:"typography--uppercase"}[l]:"",{"typography--truncate":d},c);return(0,r.jsx)(a,Object.assign({style:u,className:v},m))}},36100:(e,a,n)=>{n.d(a,{E:()=>i});var t=n(29109),r=n(74848),o=n(44128),s=n(81330);const i=e=>{var a,{children:n,typographyProps:i={variant:"button_primary"},copykey:l,disabled:c}=e,d=(0,t.T)(e,["children","typographyProps","copykey","disabled"]);return(0,r.jsx)(s.$,Object.assign({},d,{disabled:c,children:(0,r.jsx)(o.o,Object.assign({variant:"button_primary",as:"span"},i,{color:c?"tertiary":null!==(a=i.color)&&void 0!==a?a:"primary",copykey:l,children:n}))}))}},40652:(e,a,n)=>{n.d(a,{C:()=>c});var t=n(74848),r=(n(46759),n(69648),n(88393),n(80066),n(96540),n(41253),n(95821),n(49795)),o=(n(60445),n(3418),n(48702),n(10941),n(16219),n(58726)),s=n(69844),i=n(44128),l=(n(12174),n(29109),n(83650),n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(80426));n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(95081),n(100),n(58080),n(53006),n(11012),n(71172),n(14624),n(44432),n(79903),n(53454),n(74566),n(85168),n(71092),n(26968),n(56950),n(43433),n(87583),n(30261),n(96696),n(58169),n(23121),n(4623),n(22923),n(44917),n(94734),n(26490),n(10647),n(78080),n(95253),n(44719),n(79620),n(59553),n(31448),n(98592),n(18983),n(21858),n(80622),n(31825);const c=({userProfile:e,walletConnector:a})=>{var n;const c=null===(n=null==e?void 0:e.verifiedCredentials.find((a=>a.id===e.lastVerifiedCredentialId)))||void 0===n?void 0:n.address,d=(0,o.c)(c),{data:u}=(0,l.v)((()=>null==a?void 0:a.getAddress()),{enabled:!e&&Boolean(a)});return(0,t.jsxs)("div",{className:"user-address__container",children:[(0,t.jsx)(s.m,{variant:"green",containerClassName:"user-address__status-dot"}),(null==d?void 0:d.name)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.o,{variant:"numbers_big",color:"primary",className:"user-address",children:d.name}),(0,t.jsx)("div",{className:"dynamic-widget-wallet-header__seperator"}),(0,t.jsx)(i.o,{variant:"numbers_medium",color:"secondary",className:"user-address",children:(0,r.F)(c,3,3)})]}):(0,t.jsx)(i.o,{variant:"numbers_big",color:"primary",className:"user-address",children:(0,r.F)(c||u,4,4)})]})}},83762:(e,a,n)=>{n.d(a,{H:()=>i});var t=n(74848),r=n(88393),o=n(90054),s=n(34156);const i=({user:e,containerClassName:a,renderWithFallback:n=!0})=>{const i=null===(d=null===(c=null===(l=null==e?void 0:e.verifiedCredentials)||void 0===l?void 0:l.find((a=>{var n;return e.lastVerifiedCredentialId===a.id&&(null===(n=a.oauthAccountPhotos)||void 0===n?void 0:n.length)})))||void 0===c?void 0:c.oauthAccountPhotos)||void 0===d?void 0:d[0];var l,c,d;return i||n?(0,t.jsx)("div",{className:(0,o.x)("user-profile-social-account__connected-avatar",a),children:(0,t.jsx)(s._,{className:"user-profile-social-account__image",src:i,alt:"User avatar",dataTestId:"user-avatar",fallback:(0,t.jsx)(r.Wo,{})})}):null}},64156:(e,a,n)=>{n.d(a,{F:()=>L});var t=n(74848),r=n(96540),o=n(95081),s=n(46759),i=n(90054),l=(n(100),n(58080),n(12174),n(29109),n(60445),n(83650),n(69648),n(88393)),c=(n(80066),n(42661)),d=(n(41253),n(95821),n(49122)),u=(n(3418),n(48702),n(28585)),m=(n(10941),n(16219),n(89809)),v=(n(54769),n(60337)),y=(n(4402),n(11011),n(90029)),h=n(83943),_=(n(40337),n(76529)),p=(n(81285),n(45468),n(99157),n(7116),n(13286)),x=(n(20433),n(83073),n(21029),n(47979),n(63055)),j=(n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366)),g=(n(55537),n(65381),n(75705),n(27373),n(44128)),b=(n(58169),n(53006),n(74566),n(85168),n(71092),n(79620),n(22923),n(23121),n(59553),n(78080)),f=n(51805),N=n(70244),w=n(46136),k=n(52957),C=(n(11012),n(79903),n(12343)),S=n(43728);const E=({className:e,overwriteTooltipProps:a,tooltipContent:n,copykey:r})=>{return(0,t.jsx)(S.m,Object.assign({content:(o=n,(0,t.jsx)(g.o,{variant:"numbers_medium",color:"tooltip",children:o}))},a,{copykey:r,children:(0,t.jsx)(C.h,{className:(0,i.x)("dynamic-verified-icon",e)})}));var o};n(30261),n(96696),n(44719),n(14624),n(53454),n(31448),n(95253),n(98592),n(18983),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968),n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583);const P=({name:e,label:a,value:n,copykey:r,autoComplete:s})=>{var i,l;const{user:c}=(0,m.J)(),{t:d}=(0,o.Bd)(),u=""===n,v="phoneNumber"===e&&"string"==typeof n,y="email"===e&&(null==c?void 0:c.email)&&(null===(i=null==c?void 0:c.verifiedCredentials)||void 0===i?void 0:i.some((e=>e.email===n))),h=v&&(null==c?void 0:c.phoneNumber)&&(null===(l=null==c?void 0:c.verifiedCredentials)||void 0===l?void 0:l.some((e=>`+${e.phoneCountryCode}${e.phoneNumber}`===n))),_=d(y?"dyn_user_profile.tooltips.verified_email":"dyn_user_profile.tooltips.verified_phone");return(0,t.jsxs)("div",{className:"user-profile-field",children:[a&&(0,t.jsx)(g.o,{as:"h6",color:"secondary",weight:"regular",variant:"body_small",copykey:r,children:a}),(0,t.jsxs)("div",{className:"user-profile-field__value",children:[(0,t.jsx)(g.o,{color:u?"tertiary":"primary",as:"p",weight:"regular",variant:"body_normal",children:v?(0,k.q)(n):n}),(y||h)&&(0,t.jsx)(E,{className:"user-profile-field__verify-icon",overwriteTooltipProps:{as:"div"},tooltipContent:_,copykey:"dyn_user_profile.tooltips"})]})]})},T=({title:e,children:a,action:n})=>(0,t.jsxs)("div",{className:"user-profile-section",children:[(0,t.jsx)("div",{className:"user-profile-section__header",children:e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.o,{color:"secondary",weight:"regular",variant:"body_normal",className:"user-profile-section__title",children:e}),n&&(0,t.jsx)("div",{className:"user-profile-section__action",children:n})]})}),a]});var F=n(57071),I=n(36721),$=n(95653),B=n(69304),V=n(24204),M=n(17632),O=n(34156);const R=({provider:e,avatarUrl:a,iconThemeVariant:n})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"user-profile-social-account__connected-avatar",children:(0,t.jsx)(O._,{className:"user-profile-social-account__image",src:a,alt:"User avatar",dataTestId:"user-avatar",fallback:(0,t.jsx)(l.Wo,{})})}),(0,t.jsx)("div",{className:"user-profile-social-account__connected-provider-icon",children:(0,t.jsx)(l.b6,{name:e,variant:n})})]});var A=n(36100);const W=({provider:e})=>{var a;const{user:n,primaryWallet:r}=(0,m.J)(),{linkSocialAccount:o,unlinkSocialAccount:s,isProcessing:i,isLinked:d,getLinkedAccountInformation:u}=(0,V.$)(),v=d(e),y=u(e),h=(0,B.D)(),_=!r&&y&&(null==y?void 0:y.id)===(null==n?void 0:n.lastVerifiedCredentialId);return(0,t.jsxs)("div",{className:"user-profile-social-account","data-testid":`social-account-${e}`,children:[(0,t.jsx)("div",{className:"user-profile-social-account__icon",children:v?(0,t.jsx)(R,{provider:e,avatarUrl:null==y?void 0:y.avatar}):(0,t.jsx)(l.b6,{name:e,variant:h})}),(0,t.jsx)(g.o,{weight:"medium",variant:"body_normal",color:"primary",truncate:!0,className:"user-profile-social-account__label",children:null!==(a=null==y?void 0:y.publicIdentifier)&&void 0!==a?a:(0,I.s)((0,$.o)(e))}),_?null:(0,t.jsx)(A.E,{buttonClassName:"user-profile-social-account__button",buttonVariant:"secondary",buttonPadding:"none",onClick:()=>v?s(e):o(e),loading:i,dataTestId:`social-account-${v?"disconnect":"connect"}-button`,typographyProps:{color:"secondary",variant:"button_tertiary"},startSlot:(0,t.jsx)(M.I,{color:"text-tertiary",size:"small",children:v?(0,t.jsx)(F.h,{}):(0,t.jsx)(c.h,{})}),children:v?null:"Connect"})]})};var D=n(92777);const U=()=>{var e,a;const{t:n}=(0,o.Bd)(),{projectSettings:r}=(0,m.J)(),{setDynamicWidgetView:s}=(0,b.pJ)(),i=(0,h.Ux)([...null!==(e=null==r?void 0:r.kyc)&&void 0!==e?e:[],...null!==(a=null==r?void 0:r.customFields)&&void 0!==a?a:[]]);return(null==i?void 0:i.length)?(0,t.jsx)(A.E,{buttonClassName:"dynamic-widget-footer__button",buttonVariant:"tertiary",buttonPadding:"none",typographyProps:{color:"secondary",variant:"button_tertiary"},copykey:"dyn_user_profile.edit_profile_button",onClick:()=>s("edit-profile"),startSlot:(0,t.jsx)(D.h,{}),children:n("dyn_user_profile.edit_profile_button")}):null};var z=n(11646);const L=({rootClassName:e})=>{var a;const{projectSettings:n,user:l,setSelectedWalletConnectorKey:b,multiWallet:k,primaryWallet:C}=(0,m.J)(),{error:S}=(0,v.pu)(),{setShowLinkNewWalletModal:E}=(0,z.J)(),{userWallets:F}=(0,x.i0)(),{t:I}=(0,o.Bd)(),{fieldsConfig:$}=(0,j.t)(),B=(0,r.useRef)(null);(0,r.useEffect)((()=>{S&&B.current&&(B.current.scrollTop=0)}),[S]);const V=(0,h.cb)({customFields:null==n?void 0:n.customFields,projectSettingsKyc:null==n?void 0:n.kyc,user:l}),M=(0,r.useMemo)((()=>{var e;return null===(e=null==n?void 0:n.sdk.nameService)||void 0===e?void 0:e.evm.domain}),[n]),O=(0,_.Y)(n)?(0,y.j)(null==n?void 0:n.providers):[],R=(0,p.D)(n,null==l?void 0:l.verifiedCredentials,k);if(!l)return null;const D=!k&&!C&&F[0];return(0,t.jsxs)("div",{"data-testid":"userProfile",className:(0,i.x)("user-profile",e),ref:B,children:[S&&(0,t.jsx)(w.O,{children:S}),D&&(0,t.jsx)(T,{title:I("dyn_user_profile.my_wallet.title"),children:(0,t.jsx)(N.u,{ens:null===(a=(0,f.r)(D.address,null==l?void 0:l.verifiedCredentials,D.chain))||void 0===a?void 0:a.nameService,wallet:D},D.id)}),(null==V?void 0:V.length)>0&&(0,t.jsx)(T,{title:I("dyn_user_profile.my_information.title"),action:(0,t.jsx)(U,{}),children:(0,t.jsx)("div",{className:"user-profile__fields",children:V.map((({name:e,validationType:a,type:n,label:r})=>{var o,i;if(n===s.cc8.Custom){const n=null!==(i=null===(o=l.metadata)||void 0===o?void 0:o[e])&&void 0!==i?i:"";let r=n;a===s.Muc.Checkbox&&(r=n.length>0?"Checked":"Unchecked");let c=e;return e===u.p&&(c=I("dyn_subdomain_field.label"),M&&(r=`${r}.${M}`)),(0,t.jsx)(P,{name:e,label:c,value:r},e)}const{label:c,key:m}=(0,d.g)($,e);null!=r||(r=c);const v=null==l?void 0:l[e];return(0,t.jsx)(P,{copykey:m,name:e,label:r,value:v},e)}))})}),R&&!k&&(0,t.jsx)(T,{title:I("dyn_user_profile.wallets.title"),children:(0,t.jsx)(A.E,{dataTestId:"link-wallet-button",onClick:()=>{E(!0),b(null)},startSlot:(0,t.jsx)(c.h,{}),showInternalLoading:!1,children:(0,t.jsx)(g.o,{color:"primary",weight:"medium",copykey:"dyn_user_profile.wallets.link_wallet_button",children:I("dyn_user_profile.wallets.link_wallet_button")})})}),(null==O?void 0:O.length)>0&&(0,t.jsx)(T,{title:I("dyn_user_profile.social_accounts.title"),children:(0,t.jsx)("div",{className:"user-profile__social-accounts",children:O.map((({provider:e})=>(0,t.jsx)(W,{provider:e},e)))})})]})}},8916:(e,a,n)=>{n.d(a,{H:()=>_});var t=n(74848),r=n(96540),o=n(30261),s=n(84176),i=(n(83650),n(46759),n(69648),n(88393),n(80066),n(56794)),l=(n(41253),n(95821),n(60445),n(3418),n(48702),n(28585)),c=(n(10941),n(16219),n(12174),n(29109),n(54769),n(60337),n(4402),n(11011),n(83943)),d=(n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(55537),n(65381),n(75705),n(27373),n(29147),n(95081),n(90054)),u=(n(100),n(58080),n(53006),n(36100)),m=(n(11012),n(71172),n(14624),n(44432),n(79903),n(53454),n(74566),n(85168),n(71092),n(26968),n(56950),n(43433),n(29028)),v=(n(87583),n(3811)),y=n(93902),h=(n(58169),n(23121),n(4623),n(22923),n(44917),n(94734),n(26490),n(10647),n(78080),n(72366),n(95253),n(6864),n(44719),n(79620),n(59553),n(31448),n(98592),n(18983),n(21858),n(80622),n(31825),n(89809));const _=({filterFields:e,formClassName:a,fieldsContainerStyle:n,onEditProfileSubmit:_,onEditProfileCancel:p,options:x={buttonsAsFooter:!0,cancelText:"Cancel",shouldEnforcePolicies:!1,submitText:"Save"}})=>{const{projectSettings:j,user:g}=(0,h.J)(),b=(0,r.useMemo)((()=>{const a=(0,c.cb)({customFields:null==j?void 0:j.customFields,projectSettingsKyc:null==j?void 0:j.kyc,user:g});return e?a.filter((({name:a})=>e.includes(a))):a}),[e,null==j?void 0:j.customFields,null==j?void 0:j.kyc,g]),{fetch:f,formikInitialValues:N,formikValidationSchema:w,onFormSubmit:k}=(0,s.r)({fields:b,onSubmit:_,shouldEnforcePolicies:x.shouldEnforcePolicies,userProfile:g}),C=(0,r.useMemo)((()=>b.some((e=>e.name===l.p))),[b]),S=(e,a,n)=>(0,t.jsxs)(t.Fragment,{children:[!x.hideCancelButton&&(0,t.jsx)(u.E,Object.assign({disabled:f,expanded:!0,buttonPadding:"medium",buttonVariant:"secondary",type:"button",typographyProps:{variant:"button_secondary"},onClick:p,dataTestId:"cancel-button"},x.cancelButtonProps,{children:x.cancelText})),(0,t.jsx)(u.E,Object.assign({buttonClassName:"dynamic-widget-footer__button",disabled:f||!a||!n,expanded:!0,type:"submit",buttonPadding:"medium",typographyProps:{variant:"button_secondary"},loading:e,startSlot:(0,t.jsx)(i.h,{}),dataTestId:"submit-button"},x.submitButtonProps,{children:x.submitText}))]});return(0,t.jsx)(o.l1,{onSubmit:k,initialValues:N,validationSchema:w,validateOnChange:!0,children:({errors:e,touched:r,isSubmitting:s,isValid:i,dirty:l,values:c})=>(0,t.jsxs)(o.lV,{className:(0,d.x)("dynamic-widget-edit-profile-view",a),"data-testid":"editUserProfileForm",children:[(0,t.jsxs)("div",{className:"dynamic-widget-edit-profile-view__fields",style:n,children:[C&&(0,t.jsx)(y.P,{}),(0,t.jsx)(v.$,{errors:e,fields:b,touched:r,currentValues:c,initialValues:N,disableEditingMultipleFieldsWithVerification:!0})]}),x.buttonsAsFooter?(0,t.jsx)(m.l,{children:S(s,i,l)}):S(s,i,l)]})})}},8156:(e,a,n)=>{n.d(a,{o:()=>v});var t=n(96540),r=n(80066),o=n(4402),s=n(75705),i=n(95821),l=n(9778),c=(n(83650),n(46759),n(69648)),d=(n(88393),n(74848),n(41253),n(20333)),u=(n(60445),n(3418),n(48702),n(10941),n(16219),n(12174),n(29109),n(54769),n(60337),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(27373)),m=(n(95081),n(100),n(58080),n(53006),n(11012),n(71172),n(14624),n(44432),n(79903),n(53454),n(74566),n(85168),n(71092),n(26968),n(56950),n(43433),n(87583),n(30261),n(96696),n(58169),n(23121),n(4623),n(22923),n(44917),n(94734),n(26490),n(10647),n(78080),n(95253),n(44719),n(79620),n(59553),n(31448),n(98592),n(18983),n(21858),n(80622),n(31825),n(89809));const v=({connectorProps:e})=>{const{walletConnectorOptions:a,primaryWallet:n}=(0,m.J)(),{handleWalletItemClick:v}=(0,l.f)(),y=(0,t.useMemo)((()=>{var a,n;if(e.projectSettings&&e.networkConfigurations&&(0,i.rh)(e.walletBook))return(0,o.Xm)(Object.assign(Object.assign({},e),{chainRpcProviders:s.fZ,settings:e.projectSettings,walletConnectProjectId:null===(n=null===(a=e.projectSettings)||void 0===a?void 0:a.sdk.walletConnect)||void 0===n?void 0:n.projectId}))}),[e]);return(0,t.useEffect)((()=>{const e=({injectedConnectorConstructor:e})=>{if(!y)return;const a=new e(y);c.v.debug("[WalletConnectorEvents] handleProviderInjected",{injectedConnector:a}),r.Qg.emit("providerReady",{connector:a})};return r.Qg.on("providerInjected",e),()=>{r.Qg.off("providerInjected",e)}}),[y]),(0,t.useEffect)((()=>{const n=({connector:n})=>{c.v.debug("[WalletConnectorEvents] handleProviderReady",{connector:n});let t=!1;const r=a.map((e=>e.key===n.key?(t=!0,Object.assign(Object.assign({},e),{isInstalledOnBrowser:n.isInstalledOnBrowser(),walletConnector:n})):e));if(c.v.debug("[WalletConnectorEvents] handleProviderReady",{foundWallet:t}),!t){const a=(0,d.i)(e.walletBook,n);r.push(a)}(0,u.xq)(r)};if((0,i.rh)(e.walletBook))return r.Qg.on("providerReady",n),()=>{r.Qg.off("providerReady",n)}}),[e.walletBook,a]),(0,t.useEffect)((()=>{const e=({connector:e})=>{c.v.debug("[WalletConnectorEvents] handleAutoConnect",{connector:e});const n=a.find((a=>a.walletConnector.key===e.key));c.v.debug("[WalletConnectorEvents] handleAutoConnect - found walletOption",Boolean(n)),n&&v(n)};if(!n)return r.Qg.on("autoConnect",e),()=>{r.Qg.off("autoConnect",e)}}),[v,a,n]),null}},53320:(e,a,n)=>{n.d(a,{u:()=>s});var t=n(74848),r=n(51645),o=n(44128);const s=({icon:e,title:a,titleCopyKey:n,children:s})=>(0,t.jsxs)("div",{className:"wallet-group-view-layout__container",children:[(0,t.jsx)(r.x,{className:"wallet-group-view-layout__icon",Icon:e,iconSize:96}),(0,t.jsxs)("div",{className:"wallet-group-view-layout__body",children:[(0,t.jsx)(o.o,{className:"wallet-group-view-layout__title",as:"p",color:"secondary",variant:"body_normal",copykey:n,children:a}),(0,t.jsx)("div",{className:"wallet-group-view-layout__list",children:s})]})]})},67880:(e,a,n)=>{n.d(a,{E:()=>c});var t=n(74848),r=n(96540),o=n(95081),s=n(44128),i=(n(46759),n(69648),n(88393),n(80066),n(41253),n(95821),n(49795)),l=(n(60445),n(3418),n(48702),n(10941),n(16219),n(17632));const c=({address:e,ens:a,balance:n,icon:c,network:d,menu:u})=>{const{t:m}=(0,o.Bd)(),v=(0,r.useMemo)((()=>{const n=(0,i.F)(e);return a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.o,{color:"primary",variant:"body_normal",truncate:!0,children:a}),(0,t.jsx)(s.o,{weight:"regular",variant:"body_small",color:"secondary",children:n})]}):(0,t.jsx)(s.o,{weight:"medium",variant:"body_normal",color:"primary",children:n})}),[a,e]);return(0,t.jsxs)("div",{className:"wallet-information-card",children:[(0,t.jsxs)("div",{className:"wallet-information-card__header",children:[(0,t.jsxs)("div",{className:"wallet-information-card__details-container",children:[c&&(0,t.jsx)(l.I,{className:"wallet-information-card__icon",children:c}),(0,t.jsx)("div",{className:"wallet-information-card__details",children:v}),(0,t.jsx)("div",{className:"wallet-information-card__menu",children:u})]}),d]}),(0,t.jsxs)("div",{className:"wallet-information-card__balance-container",children:[(0,t.jsx)(s.o,{color:"secondary",variant:"body_small",copykey:"dyn_wallet_information.balance",children:m("dyn_wallet_information.balance")}),n]})]})}},45468:(e,a,n)=>{n.d(a,{A:()=>r});var t=n(46759);class r{}r.getBaseUrl=()=>{if(!r.__baseUrl__)throw new Error("ApiEndpoint Base URL has not been initialized");return r.__baseUrl__},r.setBaseUrl=e=>{r.__baseUrl__=e||(new t.Vk6).basePath}}}]);