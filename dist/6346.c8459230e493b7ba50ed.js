"use strict";(self.webpackChunkibc_transfer_ui=self.webpackChunkibc_transfer_ui||[]).push([[6346],{40216:(e,t,n)=>{n.d(t,{B:()=>b});var s=n(29109),a=n(74848),o=n(96540),i=n(95081),l=(n(46759),n(69648)),r=(n(88393),n(80066),n(88005)),c=n(56794),d=n(84787),_=n(57071),u=(n(41253),n(95821),n(60445),n(3418),n(48702),n(10941),n(16219),n(100),n(58080),n(12174),n(22130)),m=(n(83650),n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(44128)),v=(n(58169),n(53006),n(74566),n(85168),n(71092),n(79620),n(22923),n(23121),n(59553),n(78080)),y=n(11012),g=(n(79903),n(36100));n(30261),n(96696),n(44719),n(14624),n(53454),n(31448),n(95253),n(98592),n(18983),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968),n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583);const b=({name:e})=>{var t;const{t:n}=(0,i.Bd)(),{setDynamicWidgetView:b}=(0,v.pJ)(),{primaryWallet:h}=(0,u.W)(),[p,w]=(0,o.useState)([]),[x,f]=(0,o.useState)(!1),[j,k]=(0,o.useState)(!1),{globalWallet:N}=null!==(t=null==h?void 0:h.connector)&&void 0!==t?t:{};return(0,o.useEffect)((()=>{(0,s.s)(void 0,void 0,void 0,(function*(){try{const e=()=>(0,s.s)(void 0,void 0,void 0,(function*(){const e=Date.now();for(;Date.now()-e<3e3;){try{const e=yield N.getConnectedWCSessions();if(void 0!==e)return e}catch(e){}yield new Promise((e=>setTimeout(e,100)))}l.v.warn("Timeout waiting for sessions")})),t=yield e();if(N.getWeb3Wallet().on("session_delete",(()=>f(!x))),t){const e=Object.values(t).map((e=>({icon:e.peer.metadata.icons[0]||"",name:e.peer.metadata.name,topic:e.topic,url:e.peer.metadata.url})));w(e)}}catch(e){l.v.warn("Error fetching connected apps",e)}}))}),[h,x]),(0,o.useEffect)((()=>{if(e){k(!0);const e=setTimeout((()=>{k(!1)}),3e3);return()=>clearTimeout(e)}}),[e]),(0,a.jsxs)("div",{className:"connected-apps-view",children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)(y.K,{onClick:()=>b("settings"),"data-testid":"back-button",className:"back-button",type:"button",children:(0,a.jsx)(r.h,{className:"arrow-left-icon"})}),(0,a.jsx)(m.o,{variant:"title",weight:"medium",color:"primary",className:"title",children:n("global_wallet.connected_apps.title")})]}),(0,a.jsx)("div",{className:"subheader",children:(0,a.jsx)(m.o,{variant:"body_small",weight:"medium",color:"primary",className:"title",children:n("global_wallet.connected_apps.subtitle")})}),p.length>0&&(0,a.jsx)("ul",{className:"connected-apps-list",children:p.map((e=>(0,a.jsxs)("li",{className:"connected-app-item",children:[(0,a.jsx)("img",{src:e.icon,alt:e.name,className:"app-icon"}),(0,a.jsx)("div",{className:"app-info",children:(0,a.jsx)(m.o,{variant:"body_normal",color:"primary",children:e.url})}),(0,a.jsxs)("div",{className:"app-actions",children:[(0,a.jsx)(g.E,{onClick:()=>window.open(e.url,"_blank"),buttonVariant:"tertiary",buttonPadding:"none",startSlot:(0,a.jsx)(d.h,{}),typographyProps:{color:"secondary",variant:"button_secondary"}}),(0,a.jsx)(g.E,{onClick:()=>{return t=e.topic,(0,s.s)(void 0,void 0,void 0,(function*(){try{yield N.disconnectWCSession(t),f(!x)}catch(e){l.v.warn("Error disconnecting app",e)}}));var t},buttonVariant:"tertiary",buttonPadding:"none",startSlot:(0,a.jsx)(_.h,{}),typographyProps:{color:"secondary",variant:"button_secondary"}})]})]},e.url)))}),j&&(0,a.jsxs)("div",{className:"success-message",children:[(0,a.jsx)(c.h,{}),(0,a.jsx)(m.o,{variant:"body_small",color:"primary",children:n("global_wallet.connected_apps.success",{name:e})})]})]})}},60668:(e,t,n)=>{n.d(t,{p:()=>m});var s=n(29109),a=n(74848),o=n(96540),i=(n(60445),n(100),n(58080),n(12174),n(83650),n(46759),n(69648),n(88393),n(80066),n(41253)),l=(n(95821),n(3418),n(48702),n(10941),n(16219),n(89809)),r=(n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(29482)),c=(n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(14170)),d=(n(65381),n(55537),n(75705),n(27373),n(95081),n(44128)),_=(n(58169),n(53006),n(74566),n(85168),n(71092),n(79620),n(22923),n(23121),n(59553),n(78080)),u=(n(11012),n(79903),n(8916));n(30261),n(44719),n(14624),n(53454),n(31448),n(95253),n(98592),n(18983),n(21858),n(96696),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968),n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583);const m=({rootClassName:e})=>{const{setView:t}=(0,i.At)(),{setShowAuthFlow:n,multiWallet:m,user:v}=(0,l.J)(),{goToProfileView:y}=(0,_.pJ)(),{updateUser:g}=(0,c.U)({validationSchemaStripUnknown:!0}),b=(0,o.useCallback)((e=>(0,s.s)(void 0,void 0,void 0,(function*(){const{isEmailVerificationRequired:s,isSmsVerificationRequired:a}=yield g(Object.assign(Object.assign({},e),{metadata:Object.assign(Object.assign({},null==v?void 0:v.metadata),e.metadata)}));y(),(s||a)&&(n(!0,{ignoreIfIsEmbeddedWidget:!1,initializeWalletConnect:!1,performMultiWalletChecks:!1}),t(s?"verify-email":"verify-sms"))}))),[y,n,t,g]),h=(0,r.D)();return(0,a.jsxs)(a.Fragment,{children:[!m&&h&&(0,a.jsx)(d.o,{weight:"regular",color:"secondary",variant:"body_normal",className:"dynamic-widget-edit-profile-view__profile-title",children:"My information"}),(0,a.jsx)(u.H,{formClassName:e,onEditProfileSubmit:b,onEditProfileCancel:y})]})}},87913:(e,t,n)=>{n.d(t,{O:()=>f});var s=n(29109),a=n(74848),o=n(96540),i=n(95081),l=n(60445),r=(n(46759),n(69648),n(88393),n(80066),n(88005)),c=n(99452),d=n(97233),_=n(82192),u=n(41253),m=(n(95821),n(3418),n(48702),n(10941),n(16219),n(11012)),v=n(78080),y=(n(100),n(58080),n(12174),n(22130)),g=n(89809),b=(n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(44128)),h=(n(58169),n(53006),n(74566),n(85168),n(71092),n(79620),n(22923),n(23121),n(59553),n(50984)),p=(n(79903),n(30261),n(96696),n(44719),n(14624)),w=(n(53454),n(31448),n(95253),n(98592),n(52547));const x=({onScan:e,jsQR:t})=>{const n=(0,o.useRef)(null),s=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const a=n.current,o=s.current;if(!a||!o)return;const i=o.getContext("2d");if(!i)return;navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((e=>{a.srcObject=e,a.setAttribute("playsinline","true"),a.play(),requestAnimationFrame(l)}));const l=()=>{if(a.readyState===a.HAVE_ENOUGH_DATA){o.height=a.videoHeight,o.width=a.videoWidth,i.drawImage(a,0,0,o.width,o.height);const n=i.getImageData(0,0,o.width,o.height),s=t(n.data,n.width,n.height,{inversionAttempts:"dontInvert"});s&&e(s.data)}requestAnimationFrame(l)};return()=>{const e=a.srcObject,t=null==e?void 0:e.getTracks();null==t||t.forEach((e=>e.stop()))}}),[e]),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"videoWrapper",children:[(0,a.jsx)("video",{ref:n,className:"qrVideo"}),(0,a.jsx)("canvas",{ref:s,style:{display:"none"}})]})})};n(18983),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968),n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583);const f=()=>{var e;const{t}=(0,i.Bd)(),{setDynamicWidgetView:n,goToInitialDynamicWidgetView:f}=(0,v.pJ)(),{setView:j}=(0,u.At)(),{setShowAuthFlow:k}=(0,g.J)(),{primaryWallet:N}=(0,y.W)(),[S,C]=(0,o.useState)(""),{environmentId:I}=(0,g.J)(),[W,E]=(0,o.useState)(null),[T,D]=(0,o.useState)(!1),{globalWallet:F}=null!==(e=null==N?void 0:N.connector)&&void 0!==e?e:{};if(!F)throw new Error("Global Wallet not found");const A=(0,o.useCallback)(((e,t)=>{E({message:e,type:t}),setTimeout((()=>{E(null)}),"success"===t?0:3e3)}),[]),R=e=>{j("global-wallet-confirm",{onCancel:()=>{n("global-wallet"),k(!1,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),C("")},onConfirm:()=>(0,s.s)(void 0,void 0,void 0,(function*(){var s;try{yield F.confirmPairing(!0),n("global-wallet"),k(!1,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1}),n("connected-apps",{name:e.name})}catch(n){A(t("global_wallet.banner.warning",{name:null!==(s=e.name)&&void 0!==s?s:t("global_wallet.the_dapp")}),"error")}})),pairingInfo:e}),k(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})},U=()=>(0,s.s)(void 0,void 0,void 0,(function*(){const e=F.getPendingPairing();if(!e)throw new Error("No pending pairing");const{name:t,url:n,icons:s}=e.params.proposer.metadata,a={icons:s,name:t,url:n},o=yield(0,w.mr)({environmentId:I,url:n});o||void 0===o?(j("global-wallet-malicious",{maliciousSiteInfo:{isDefinitelyMalicious:null!=o&&o,proceedFlow:()=>R(a),url:n}}),k(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})):R(a)})),P=(0,o.useCallback)((()=>(0,s.s)(void 0,void 0,void 0,(function*(){if(S.startsWith("wc:"))try{yield F.pairWithWC(S),F.getWeb3Wallet().on("session_proposal",U)}catch(e){const n=String(e);n.includes("expired")?A(t("global_wallet.banner.expired"),"error"):n.includes("exists")?A(t("global_wallet.banner.already_connected",{name:t("global_wallet.this_app")}),"success"):A(t("global_wallet.banner.warning",{name:t("global_wallet.the_dapp")}),"error")}else A(t("global_wallet.banner.bad_input"),"error")}))),[S]),M=(0,o.useCallback)((e=>{e&&(D(!0),C(e))}),[]);return(0,o.useEffect)((()=>{S.startsWith("wc:")&&P()}),[S]),(0,a.jsxs)("div",{className:"connect-dapps-view",children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)(m.K,{type:"button",onClick:f,"data-testid":"back-button",children:(0,a.jsx)(r.h,{})}),(0,a.jsx)(b.o,{variant:"title",weight:"medium",color:"primary",as:"h1",copykey:"global_wallet.connect_to_apps",children:t("global_wallet.connect_to_apps")}),(0,l.Fr)()&&(0,a.jsx)(m.K,{type:"button",onClick:()=>{j("global-wallet-info"),k(!0,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})},"data-testid":"info-button",children:(0,a.jsx)(_.h,{})})]}),(0,l.Fr)()&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"scanner-wrapper",children:[(0,a.jsx)(x,{onScan:M,jsQR:F.qrScanner}),(0,a.jsxs)("div",{className:"scanner-overlay",children:[(0,a.jsxs)("div",{className:"scanner-frame",children:[(0,a.jsx)("div",{className:"corner top-left"}),(0,a.jsx)("div",{className:"corner top-right"}),(0,a.jsx)("div",{className:"corner bottom-left"}),(0,a.jsx)("div",{className:"corner bottom-right"})]}),(0,a.jsxs)("div",{className:"scanner-overlay-content",children:[(0,a.jsx)(c.h,{className:"scanner-icon"}),(0,a.jsx)(b.o,{variant:"body_small",weight:"regular",color:"white",copykey:"global_wallet.scan_qr_code",children:t("global_wallet.scan_qr_code")})]})]})]}),(0,a.jsx)(h.c,{text:t("global_wallet.or")})]}),(0,a.jsxs)("div",{className:"wallet-connect-card",children:[(0,a.jsx)("div",{className:"input-group",children:(0,a.jsx)(p.p,{copykey:"global_wallet.walletconnect_uri",id:"walletconnect-uri",label:t("global_wallet.walletconnect_uri"),placeholder:"wc:...",value:T?"":S,onChange:e=>{C(e.target.value),D(!1)},variant:"dense"})}),W&&(0,a.jsx)("div",{className:`banner ${W.type}`,children:(0,a.jsx)(b.o,{variant:"body_small",weight:"regular",color:"primary",children:W.message})})]}),!(0,l.Fr)()&&(0,a.jsx)("div",{className:"info-card",children:(0,a.jsxs)("div",{className:"wrapper",children:[(0,a.jsx)(b.o,{variant:"body_small",weight:"bold",color:"primary",as:"h2",children:t("global_wallet.help.title")}),(0,a.jsx)(b.o,{variant:"body_small",weight:"regular",color:"secondary",children:t("global_wallet.help.step.1")}),(0,a.jsx)(b.o,{variant:"body_small",weight:"regular",color:"secondary",children:t("global_wallet.help.step.2")}),(0,a.jsx)(b.o,{variant:"body_small",weight:"regular",color:"secondary",children:(0,a.jsxs)("span",{className:"inline-logo-text",children:["3. Open WalletConnect",(0,a.jsx)(c.h,{className:"inline-logo"})," from the list"]})}),(0,a.jsx)(b.o,{variant:"body_small",weight:"regular",color:"secondary",children:(0,a.jsxs)("span",{className:"inline-logo-text",children:["4. Locate and click ",(0,a.jsx)(d.h,{className:"inline-logo"})," to copy the URI code"]})})]})})]})}},97741:(e,t,n)=>{n.d(t,{B:()=>C});var s=n(29109),a=n(74848),o=n(96540),i=n(95081),l=n(78080),r=(n(60445),n(100),n(58080),n(3194)),c=(n(83650),n(46759),n(69648),n(88393),n(80066),n(42661)),d=n(14719),_=n(41253),u=(n(95821),n(3418),n(48702),n(15988)),m=(n(10941),n(16219),n(89809)),v=(n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(12174),n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(44128)),y=(n(58169),n(53006),n(74566),n(85168),n(71092),n(79620),n(22923),n(23121),n(59553),n(11012)),g=(n(79903),n(36100)),b=(n(30261),n(96696),n(95540)),h=(n(44719),n(14624),n(53454),n(31448),n(95253),n(98592),n(32832)),p=n(35717),w=n(36659),x=n(36505);const f=({userDevice:e,deleteDevice:t,isMfaRequired:n})=>{const s=[{Icon:null,callback:()=>t(e.id),text:"Delete"}],o=e.verifiedAt&&(0,w.s)(new Date(e.verifiedAt));return(0,a.jsxs)("div",{className:"manage-mfa-widget-view__list-tile",children:[(0,a.jsx)(x.h,{className:"manage-mfa-widget-view__list-tile__icon"}),(0,a.jsxs)("div",{className:"manage-mfa-widget-view__list-tile__details",children:[(0,a.jsx)("div",{className:"manage-mfa-widget-view__list-tile__details__title",children:(0,a.jsx)(v.o,{variant:"body_normal",color:"primary",children:e.alias||"Authenticator App"})}),o&&(0,a.jsxs)(v.o,{variant:"body_small",color:"secondary",children:["Created ",o.value," ",o.unit," ago"]})]}),n||(0,a.jsx)("div",{style:{cursor:"pointer",display:"flex"},children:(0,a.jsx)(p.w,{direction:"left","data-testid":"dots-menu",options:s,buttonClassName:"manage-mfa-widget-view__list-tile__dots-menu",buttonClassNameWithOpenMenu:"manage-mfa-widget-view__list-tile__dots-menu"})})]},e.id)},j=(e,t)=>e._default===t._default?0:e._default?-1:1,k=(e,t)=>(e.verifiedAt?new Date(e.verifiedAt).getTime():0)-(t.verifiedAt?new Date(t.verifiedAt).getTime():0);n(18983),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647);var N=n(92408),S=(n(26968),n(11646));n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583);const C=()=>{var e;const[t,n]=(0,o.useState)([]),[p,w]=(0,o.useState)(),[x,C]=(0,o.useState)(!1),{setDynamicWidgetView:I}=(0,l.pJ)(),{setShowMfaQRCode:W,setShowOTPVerification:E}=(0,S.J)(),{setView:T}=(0,_.At)(),{getUserDevices:D,deleteUserDevice:F}=(0,N.o)(),{t:A}=(0,i.Bd)(),{projectSettings:R,setShowAuthFlow:U}=(0,m.J)(),P=Boolean(null===(e=null==R?void 0:R.security.mfa)||void 0===e?void 0:e.required),M=(0,o.useCallback)((()=>(0,s.s)(void 0,void 0,void 0,(function*(){C(!0);const e=yield D();n((e=>e.sort(k).sort(j))(e)),C(!1)}))),[D]);(0,r.K)("mfaCompletionSuccess",(e=>(0,s.s)(void 0,[e],void 0,(function*({mfaToken:e}){e&&"remove"===(null==p?void 0:p.action)&&(yield F(p.params.deviceId,e),w(void 0)),M()}))));const B=e=>(0,s.s)(void 0,void 0,void 0,(function*(){w({action:"remove",params:{deviceId:e}}),E(!0)}));(0,u.S)((()=>{M()}));const O=(0,a.jsx)(y.K,{type:"button",onClick:()=>I("settings"),"data-testid":"back-button",children:(0,a.jsx)(d.h,{})});return(0,a.jsxs)("div",{className:"manage-mfa-widget-view",children:[(0,a.jsx)(b.r,{leading:O,children:(0,a.jsx)("div",{className:"send-balance-page-layout__header-content",children:(0,a.jsx)(v.o,{variant:"title",color:"primary",copykey:"dyn_manage_mfa.title",children:A("dyn_manage_mfa.title")})})}),(0,a.jsxs)("div",{className:"manage-mfa-widget-view__scroll-container",children:[x&&(0,a.jsx)(h.G,{}),!x&&0===t.length&&(0,a.jsx)(v.o,{className:"manage-mfa-widget-view__no-devices",variant:"body_normal",color:"secondary",copykey:"dyn_manage_mfa.no_devices",children:A("dyn_manage_mfa.no_devices")}),t.map(((e,t)=>(0,a.jsx)(f,{isMfaRequired:P,userDevice:e,index:t,deleteDevice:B},e.id)))]}),(0,a.jsx)("div",{className:"manage-mfa-widget-view__add-mfa-button-container",children:t.length>0?(0,a.jsx)(g.E,{buttonClassName:"manage-mfa-widget-view__add-mfa-button-container__button",onClick:()=>(0,s.s)(void 0,void 0,void 0,(function*(){U(!0),T("mfa-display-backup-codes",{regenerateCodes:!0})})),copykey:"dyn_manage_mfa.generate_backup_codes_button",children:A("dyn_manage_mfa.generate_backup_codes_button")}):(0,a.jsx)(g.E,{buttonClassName:"manage-mfa-widget-view__add-mfa-button-container__button",onClick:()=>W(!0),copykey:"dyn_manage_mfa.add_mfa_button",startSlot:(0,a.jsx)(c.h,{}),children:A("dyn_manage_mfa.add_mfa_button")})})]})}},5572:(e,t,n)=>{n.d(t,{i:()=>h});var s=n(74848),a=n(95081),o=(n(60445),n(100),n(58080),n(96540),n(12174),n(29109),n(83650),n(46759),n(69648),n(88393),n(80066),n(42661)),i=n(14719),l=(n(41253),n(95821),n(3418),n(48702),n(10941),n(16219),n(89809)),r=(n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(32482)),c=(n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(44128)),d=(n(58169),n(53006),n(74566),n(85168),n(71092),n(79620),n(33016)),_=(n(22923),n(23121),n(59553),n(78080)),u=n(11012),m=(n(79903),n(36100)),v=(n(30261),n(96696),n(95540)),y=(n(44719),n(14624),n(53454),n(31448),n(95253)),g=n(98592),b=(n(18983),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968));n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583);const h=()=>{var e;const{setDynamicWidgetView:t}=(0,_.pJ)(),{userPasskeys:n,userPasskeysLoading:h}=(0,y.rM)(),{projectSettings:p}=(0,l.J)(),{initPasskeyRecoveryProcess:w}=(0,r.V)(),{t:x}=(0,a.Bd)(),f=Boolean(null===(e=null==p?void 0:p.sdk.embeddedWallets)||void 0===e?void 0:e.emailRecoveryEnabled),j=(0,s.jsx)(u.K,{type:"button",onClick:()=>t("settings"),"data-testid":"back-button",children:(0,s.jsx)(i.h,{})});return(0,s.jsxs)("div",{className:"manage-passkeys-widget-view",children:[(0,s.jsx)(v.r,{leading:j,children:(0,s.jsx)("div",{className:"send-balance-page-layout__header-content",children:(0,s.jsx)(c.o,{variant:"title",color:"primary",copykey:"dyn_manage_passkeys.title",children:x("dyn_manage_passkeys.title")})})}),(0,s.jsx)(b.E,{}),(0,s.jsxs)("div",{className:"manage-passkeys-widget-view__body",children:[(0,s.jsx)("div",{className:"manage-passkeys-widget-view__body__cards",children:h?(0,s.jsx)(d.E,{count:1,className:"manage-passkeys-widget-view__body__cards__skeleton"}):n.map((e=>(0,s.jsx)(g.F,{passkey:e},e.id)))}),f&&(0,s.jsx)(m.E,{buttonPadding:"large",buttonClassName:"manage-passkeys-widget-view__body__recovery-button",onClick:()=>w("passkey"),showInternalLoading:!1,startSlot:(0,s.jsx)(o.h,{}),copykey:"dyn_manage_passkeys.recovery_button",children:x("dyn_manage_passkeys.recovery_button")})]})]})}},98592:(e,t,n)=>{n.d(t,{F:()=>b});var s=n(74848),a=n(96540),o=n(95081),i=n(88393),l=n(35717),r=n(90054),c=(n(100),n(58080),n(12174),n(29109),n(60445),n(83650),n(46759),n(69648),n(80066),n(41253)),d=(n(95821),n(3418),n(48702),n(10941),n(16219),n(89809)),_=(n(54769),n(60337),n(4402),n(11011),n(96345)),u=(n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(73179)),m=n(36659),v=n(44128),y=(n(58169),n(53006),n(74566),n(85168),n(71092),n(79620),n(22923),n(23121),n(59553),n(78080),n(30261),n(96696),n(11012),n(44719),n(14624),n(53454),n(79903),n(31448),n(95253));n(18983),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968),n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583);const g={android:(0,s.jsx)(i.xq,{}),brave:(0,s.jsx)(i.g1,{}),chrome:(0,s.jsx)(i.Wr,{}),edge:(0,s.jsx)(i.vB,{}),firefox:(0,s.jsx)(i.RN,{}),iPhone:(0,s.jsx)(i.YS,{}),opera:(0,s.jsx)(i.zz,{}),safari:(0,s.jsx)(i.IJ,{})},b=({passkey:e})=>{var t;const{t:n}=(0,o.Bd)(),{setShowAuthFlow:i}=(0,d.J)(),{setView:b}=(0,c.At)(),{setPasskey:h,setPasskeyIcon:p}=(0,y.rM)(),w=[{Icon:null,callback:()=>{i(!0),h(e),p((()=>{var e;return null!==(e=N())&&void 0!==e?e:void 0})),b("rename-passkey")},text:"Rename"}],[x,f]=(0,a.useState)(!1),{value:j,unit:k}=(0,m.s)(e.createdAt),N=()=>{if(!e.userAgent)return null;const t=(0,u.m)(e.userAgent);return t?g[t]:null},S=()=>{if(!e.userAgent)return null;const t=(0,u.m)(e.userAgent);return t?n(`dyn_manage_passkeys.passkey_providers.${t}`):null};return(0,s.jsxs)("div",{className:"passkey-card",children:[(0,s.jsx)("div",{className:"passkey-card__info",children:(0,s.jsxs)("div",{className:"passkey-card__info__text",children:[(0,s.jsxs)(v.o,{"data-testid":"passkey-alias",variant:"body_normal",color:"primary",title:e.alias,onClick:()=>{f(!0),setTimeout((()=>{f(!1)}),2e3)},children:[(0,s.jsxs)("div",{className:"passkey-card__body",children:[(0,s.jsxs)("div",{className:"passkey-card__left",children:[(0,s.jsx)("div",{className:"passkey-card__info__icon","data-testid":"provider-icon",children:(0,s.jsx)(N,{})}),(null===(t=e.alias)||void 0===t?void 0:t.includes("@"))?(0,_.E)(e.alias,{breakpoint:12,cutEnd:4,cutStart:4}):e.alias]}),(0,s.jsx)(l.w,{options:w})]}),(0,s.jsx)("span",{className:(0,r.x)("passkey-card__info__tooltip",{"passkey-card__info__tooltip--visible":x}),children:e.alias})]}),S()&&(0,s.jsxs)(v.o,{variant:"body_small",color:"secondary",children:[n("dyn_manage_passkeys.passkey_from")," ",S()]})]})}),(0,s.jsx)("div",{className:"passkey-card__date",children:(0,s.jsxs)(v.o,{variant:"body_small",color:"secondary",copykey:"dyn_time_since.created",children:[n("dyn_time_since.created")," ",`${j} ${k} ${n("dyn_time_since.ago")}`]})})]})}},99972:(e,t,n)=>{n.d(t,{$:()=>o});var s=n(74848),a=n(64156);const o=()=>(0,s.jsx)(a.F,{rootClassName:"profile-view"})},18983:(e,t,n)=>{n.d(t,{s:()=>K});var s=n(74848),a=n(96540),o=n(95081),i=n(95821),l=n(90054),r=(n(100),n(58080),n(12174),n(29109),n(60445),n(83650),n(46759),n(69648),n(88393),n(80066),n(88005)),c=n(69558),d=n(59184),_=n(72793),u=(n(41253),n(49795)),m=(n(3418),n(48702),n(10941),n(16219),n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(80426)),v=(n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(44128)),y=(n(58169),n(53006),n(74566),n(85168),n(71092),n(79620),n(33016)),g=n(43728),b=(n(22923),n(23121),n(59553),n(17632)),h=n(78080),p=n(11012),w=(n(79903),n(36100)),x=(n(30261),n(96696),n(95540)),f=(n(44719),n(14624),n(53454),n(31448),n(95253),n(98592),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968),n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583),n(47079));const j="--",k=({value:e,onChange:t,leading:n,trailing:o,className:i,style:r,onInteraction:c,emitter:d,locked:_})=>{var u,m;const v=(0,a.useId)(),y=(0,a.useRef)(0),[g,b]=(0,a.useState)(null),h=e=>{requestAnimationFrame((()=>{g&&(g.focus(),g.setSelectionRange(e,e))}))},p=(0,a.useCallback)(((e=g)=>{e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))}),[g]),w=()=>{g&&g.selectionStart&&(y.current=g.selectionStart)};return(0,a.useEffect)((()=>(null==d||d.on("focus",p),()=>{null==d||d.off("focus",p)})),[d,p]),(0,s.jsxs)("label",{className:(0,l.x)(i,"formatted-input"),style:Object.assign(Object.assign({},r),{"--char-count":(e.length||1)+(null!==(u=null==n?void 0:n.length)&&void 0!==u?u:0)+(null!==(m=null==o?void 0:o.length)&&void 0!==m?m:0)}),htmlFor:v,children:[n&&(0,s.jsx)("label",{htmlFor:v,className:(0,l.x)("formatted-input__leading",{"formatted-input__leading--secondary":""===e}),children:n}),(0,s.jsxs)("div",{className:"formatted-input__input-container",children:[!_&&(0,s.jsx)("input",{ref:e=>{b(e),e&&!g&&p(e)},value:e,onChange:n=>{null==c||c();const s=n.target.value.replace(/[^\d.]/g,"").slice(0,20);if(s===e)return void h(y.current);const a=s.split(".").length-1;let o=s;if(a>1){const t=s.split("").findIndex(((t,n)=>"."===t&&"."!==e[n]));o=s.split("").filter(((e,n)=>"."!==e||n===t)).join(""),h(e.indexOf(".")>t?t+1:t)}t(o),w()},placeholder:"0",onKeyUp:w,onClick:w,className:"formatted-input__input-container__input",id:v,"data-testid":"formatted-input"}),(0,s.jsx)("label",{htmlFor:v,className:(0,l.x)("formatted-input__input-container__ghost-text",{"formatted-input__input-container__ghost-text--visible":_}),"data-testid":"formatted-input-ghost-text",children:""===e?"0":e})]}),o&&(0,s.jsx)("label",{htmlFor:v,className:"formatted-input__trailing",children:o})]})};var N=n(74486),S=n(61368),C=n(91398),I=n(34156);const W=(e,t)=>t?"USD"===t?`$${e}`:`${e} ${t}`:e,E=({value:e,symbol:t,withFixedZeros:n=!1,maxDecimals:s})=>{if(e===j)return W(j,t);if(void 0===e)return;const a=(e=>Number.isNaN(e)?{symbol:"",value:0}:e>=1e15?">999T":e>=1e12?{symbol:"T",value:Math.round(e/1e11)/10}:e>=1e9?{symbol:"B",value:Math.round(e/1e8)/10}:e>=1e6?{symbol:"M",value:Math.round(e/1e5)/10}:{symbol:"",value:e})(""===e?0:parseFloat(e.toString())),o="object"==typeof a?a.symbol:"";let i;if("object"==typeof a){const e=n?a.value.toFixed(2):a.value.toString(),[t,o]=e.split("."),l=t.replace(/\B(?=(\d{3})+(?!\d))/g,",");i=void 0!==s&&o&&o.length>s?`${l}.${parseFloat(`0.${o}`).toFixed(s).split(".")[1]}`:o?`${l}.${o}`:l}else i=a;return W(i+o,t)},T=({token:e,isSelected:t,onSelect:n})=>{const{t:a}=(0,o.Bd)();return(0,s.jsxs)("div",{className:(0,l.x)("token-option",{"token-option--selected":t}),onClick:n,"data-testid":`token-option-${e.symbol}`,children:[e.logoURI?(0,s.jsx)(I._,{src:e.logoURI,alt:e.symbol,className:"token-option__icon",dataTestId:"token-option-icon"}):(0,s.jsx)("div",{className:"token-option__icon--skeleton","data-testid":"token-option__icon--skeleton"}),(0,s.jsx)(v.o,{variant:"body_normal",className:"token-option__name",children:e.name}),(0,s.jsxs)("div",{className:"token-option__balance-container",children:[(0,s.jsx)(v.o,{variant:"body_small",className:"token-option__balance-label",color:"secondary",weight:"medium",children:a("dyn_receive_external_wallet_funds.token_select.token_option.balance_label")}),(0,s.jsx)("div",{className:"token-option__balance-container__balance-value-container",children:(0,s.jsx)(v.o,{weight:"medium",variant:"body_small",children:E({maxDecimals:8,symbol:e.symbol,value:e.balance,withFixedZeros:"USDC"===e.symbol})})})]})]})},D=({onClose:e,onSelectToken:t,currentToken:n,tokens:i,className:r,style:c})=>{const{t:d}=(0,o.Bd)(),[_,u]=(0,a.useState)(""),m=i.filter((e=>!!e.symbol.toLowerCase().includes(_.toLowerCase())||!!e.name.toLowerCase().includes(_.toLowerCase()))),y=(0,s.jsx)(p.K,{type:"button",id:"close-button","data-testid":"close-button",onClick:e,children:(0,s.jsx)(C.h,{})});return(0,s.jsxs)("div",{className:(0,l.x)("token-select",r),style:c,"data-testid":"token-select",children:[(0,s.jsx)(x.r,{trailing:y,children:(0,s.jsx)(v.o,{variant:"title",children:d("dyn_receive_external_wallet_funds.token_select.title")})}),(0,s.jsxs)("label",{htmlFor:"token-select-search",className:"token-select__search",children:[(0,s.jsx)(b.I,{color:"text-tertiary",size:"small",children:(0,s.jsx)(S.h,{})}),(0,s.jsx)("input",{id:"token-select-search",placeholder:d("dyn_receive_external_wallet_funds.token_select.search_placeholder"),className:"token-select__search__input",value:_,onChange:e=>u(e.target.value)})]}),(0,s.jsx)("div",{className:"token-select__tokens",children:m.map((e=>(0,s.jsx)(T,{token:e,isSelected:e.symbol===n,onSelect:()=>t(e.symbol)},e.symbol)))})]})},F=e=>e.toString().slice(0,20),A=(e,t,n)=>{if(""===e)return"";const s=parseFloat(e);return void 0!==n[t]?F(s*n[t]):void 0},R=(e,t,n)=>{if(""===e)return"";const s=parseFloat(e);return void 0!==n[t]?F(s/n[t]):void 0},U=e=>"USD"===e,P=e=>Boolean(e&&parseFloat(e.toString())>0),M=(e,t,n)=>{if(!t)return!0;const s=U(e.token)?e.value:A(e.value,e.token,n),a=U(t.token)?t.value:A(t.value,t.token,n);return void 0===s||void 0===a||parseFloat(s)>=parseFloat(a)};var B=n(75950),O=n(55968),V=n(15700),L=n(89809);const J={token:"USD",values:[25,100,500]},$=["exact","minimum"],q=["exact","exact-with-amount"],z=new N.A,K=({amount:e,token:t,externalWallet:n,quickSuggestions:N=J})=>{var S,C,I,W,T,F;const K=null!=t?t:{rule:"recommended",value:"USDC"},H="exact-with-amount"===(null==K?void 0:K.rule),Z="minimum"===(null==e?void 0:e.rule)?{token:H?K.value:"USD",value:e.value.toString()}:void 0,{t:G}=(0,o.Bd)(),[Q,Y]=(0,a.useState)(!1),[X,ee]=(0,a.useState)(null),{goToInitialDynamicWidgetView:te}=(0,h.pJ)(),ne=(({wallet:e})=>{var t,n,s,a,o;const{network:i}=(0,L.J)(),{tokenBalances:l}=(0,V.m)({accountAddress:e.address}),{currency:r}=(0,O.D)(e.connector,i),{balance:c}=(0,B.E)({chain:null==r?void 0:r.symbol,network:i,wallet:e}),d=null!==(t=e.connector.evmNetworks)&&void 0!==t?t:[],_=null!==(n=e.connector.solNetworks)&&void 0!==n?n:[],u=l.filter((({symbol:e,balance:t})=>e&&t)).map((({symbol:e,balance:t,name:n,logoURI:s})=>({balance:parseFloat(t.toString()),logoURI:s,name:null!=n?n:e,symbol:e})));if((null==r?void 0:r.symbol)&&parseFloat(null!=c?c:"0")){if(u.find((e=>e.symbol===r.symbol)))return u;const e=null===(a=null===(s=[...d,..._])||void 0===s?void 0:s.find((({chainId:e})=>e===i)))||void 0===a?void 0:a.iconUrls[0],t={balance:parseFloat(null!=c?c:"0"),logoURI:e,name:null!==(o=r.name)&&void 0!==o?o:r.symbol,symbol:r.symbol};return[...u,t]}return u})({wallet:n}),{data:se}=(0,m.v)(f.l,{initialData:{},onResolve:e=>{void 0===ae&&void 0!==re&&oe(R(re,ie,e)),void 0===re&&void 0!==ae&&ce(A(ae,ie,e))}}),[ae,oe]=(0,a.useState)(H?null!==(S=null==e?void 0:e.value.toString())&&void 0!==S?S:"":R(null!==(C=null==e?void 0:e.value.toString())&&void 0!==C?C:"",K.value,se)),[ie,le]=(0,a.useState)(K.value),[re,ce]=(0,a.useState)(H?A(null!=ae?ae:"",ie,se):null!==(I=null==e?void 0:e.value.toString())&&void 0!==I?I:""),[de]=(0,a.useState)("USD"),_e=e=>{oe(e),ce(A(e,ie,se))},ue=e=>{ce(e),oe(R(e,ie,se))},[me,ve]=(0,a.useState)(!1),ye=!Z||M({token:de,value:null!=re?re:""},Z,se),[ge,be]=me?[{amount:ae,setAmount:_e,symbol:ie},{amount:re,symbol:de}]:[{amount:re,setAmount:ue,symbol:de},{amount:ae,symbol:ie}],he=E({symbol:be.symbol,value:be.amount,withFixedZeros:U(be.symbol)||"USDC"===be.symbol}),pe=Array.isArray(N)?{token:"USD",values:N}:N,we=pe.values.filter((e=>M({token:pe.token,value:e.toString()},Z,se))).map((e=>({display:E({symbol:pe.token,value:e}),value:e}))).filter((({display:e})=>void 0!==e)),xe=null!==(T=null===(W=null==ne?void 0:ne.find((({symbol:e})=>e===ie)))||void 0===W?void 0:W.balance)&&void 0!==T?T:0,fe=Boolean(P(ae)&&void 0!==ae&&xe<parseFloat(ae)),je=Boolean(!ye&&!fe),ke=we.length>0&&!Q&&!$.includes(null==e?void 0:e.rule)&&(ie===pe.token||U(pe.token)),Ne=q.includes(K.rule),[Se,Ce]=(0,a.useState)(!1),Ie="USD"===ge.symbol?{leading:"$"}:{trailing:ge.symbol},We=(0,s.jsx)(p.K,{type:"button",id:"back-button","data-testid":"back-button",onClick:te,children:(0,s.jsx)(r.h,{})}),Ee=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"fund-from-wallet__content__wallet-card__wallet-details",children:[(0,s.jsx)(i.lc,{icon:n.connector.metadata.icon,walletKey:n.connector.key,className:"fund-from-wallet__content__wallet-card__wallet-details__icon"}),(0,s.jsxs)("div",{className:"fund-from-wallet__content__wallet-card__wallet-details__rows",children:[(0,s.jsx)(v.o,{variant:"body_small",color:"secondary",children:G("dyn_receive_external_wallet_funds.funding_view.wallet_detail_from")}),(0,s.jsx)(v.o,{variant:"body_small",children:(0,u.F)(n.address)})]})]}),(0,s.jsxs)("div",{className:(0,l.x)("fund-from-wallet__content__wallet-card__balance",{"fund-from-wallet__content__wallet-card__balance--disable-select":Ne}),onClick:()=>!Ne&&Ce(!0),children:[(0,s.jsxs)("div",{className:"fund-from-wallet__content__wallet-card__balance__rows",children:[(0,s.jsx)(v.o,{variant:"body_small",color:"secondary",weight:"bold",children:G("dyn_receive_external_wallet_funds.funding_view.balance")}),(0,s.jsx)(v.o,{variant:"body_small",weight:"bold","data-testid":`balance-amount-${ie}`,children:E({maxDecimals:8,symbol:ie,value:xe,withFixedZeros:U(ie)||"USDC"===ie})})]}),!Ne&&(0,s.jsx)(b.I,{color:"text-tertiary",size:"small",className:"fund-from-wallet__content__wallet-card__balance__icon",children:(0,s.jsx)(c.h,{})})]})]});return(0,s.jsxs)("div",{className:"fund-from-wallet",children:[!Ne&&(0,s.jsx)(D,{onClose:()=>Ce(!1),onSelectToken:e=>{var t;t=e,Y(!0),le(t),re&&oe(R(re,t,se)),Ce(!1)},tokens:null!=ne?ne:[],currentToken:ie,className:(0,l.x)("fund-from-wallet__token-select",{"fund-from-wallet__token-select--open":Se})}),(0,s.jsx)(x.r,{leading:We,children:(0,s.jsx)(v.o,{variant:"title",children:G("dyn_receive_external_wallet_funds.funding_view.title")})}),(0,s.jsxs)("div",{className:"fund-from-wallet__content",children:[(0,s.jsx)("div",{className:(0,l.x)("fund-from-wallet__content__wallet-card","fund-from-wallet__content__wallet-card--invisible"),children:Ee}),(0,s.jsxs)("div",{className:"fund-from-wallet__content__amount-container",children:[Z&&(0,s.jsx)(v.o,{color:"error-1",className:(0,l.x)("fund-from-wallet__content__amount-container__minimum-error",{"fund-from-wallet__content__amount-container__minimum-error--visible":je}),variant:"body_normal",children:G("dyn_receive_external_wallet_funds.funding_view.minimum_error",{minimum:E({symbol:Z.token,value:Z.value})})}),void 0!==ge.amount&&(0,s.jsx)(k,Object.assign({className:"fund-from-wallet__content__amount-container__amount",value:"exact"===(null==e?void 0:e.rule)&&null!==(F=E({maxDecimals:8,symbol:void 0,value:ge.amount,withFixedZeros:U(ge.symbol)||"USDC"===ge.symbol}))&&void 0!==F?F:ge.amount,onChange:ge.setAmount,emitter:z,onInteraction:()=>Y(!0),locked:"exact"===(null==e?void 0:e.rule)},Ie)),void 0===ge.amount&&(0,s.jsx)(y.E,{container:{className:"fund-from-wallet__content__amount-container__skeleton"}}),ke&&(0,s.jsx)("div",{className:"fund-from-wallet__content__amount-container__quick-suggestions",children:we.map((({display:e,value:t})=>(0,s.jsx)(v.o,{variant:"body_small",color:"secondary",onClick:()=>(e=>{Y(!0),U(pe.token)?ue(e.toString()):_e(e.toString()),z.emit("focus")})(t),children:e},t)))}),!ke&&he&&(0,s.jsxs)("div",{className:"fund-from-wallet__content__amount-container__secondary-amount-container",children:[(0,s.jsx)(v.o,{weight:"medium",className:(0,l.x)("fund-from-wallet__content__amount-container__secondary-amount-container__amount",{"fund-from-wallet__content__amount-container__secondary-amount-container__amount--zero":!P(be.amount)}),children:he}),(0,s.jsx)(b.I,{size:"small",color:"text-secondary",className:"fund-from-wallet__content__amount-container__secondary-amount-container__switch",children:(0,s.jsx)(_.h,{"data-testid":"switch-primary-and-secondary",onClick:()=>{Y(!0),ve(!me),z.emit("focus")}})})]}),!ke&&!he&&(0,s.jsxs)("div",{className:"fund-from-wallet__content__amount-container__secondary-missing",children:[(0,s.jsx)(v.o,{weight:"medium",children:E({symbol:be.symbol,value:j})}),(0,s.jsx)("div",{ref:ee,children:(0,s.jsx)(b.I,{size:"medium",color:"text-tertiary",children:(0,s.jsx)(d.h,{})})}),(0,s.jsx)(g.m,{content:G("dyn_receive_external_wallet_funds.funding_view.network_conversion_error"),targetRef:X,className:"fund-from-wallet__content__amount-container__secondary-missing__tooltip"})]}),(0,s.jsx)(v.o,{color:"error-1",className:(0,l.x)("fund-from-wallet__content__amount-container__balance-error",{"fund-from-wallet__content__amount-container__balance-error--visible":fe}),variant:"body_normal",children:G("dyn_receive_external_wallet_funds.funding_view.balance_error")})]}),(0,s.jsx)("div",{className:"fund-from-wallet__content__wallet-card",children:Ee})]}),(0,s.jsx)(w.E,{buttonVariant:"brand-primary",buttonPadding:"large",typographyProps:{color:"white"},className:"fund-from-wallet__confirm-button",disabled:!ye||fe||!P(ge.amount),children:G("dyn_receive_external_wallet_funds.funding_view.confirm_button")})]})}},65460:(e,t,n)=>{n.d(t,{g:()=>i});var s=n(74848),a=n(78080),o=n(85864);const i=()=>{const{goToInitialDynamicWidgetView:e}=(0,a.pJ)();return(0,s.jsx)("div",{className:"send-balance-widget-view",children:(0,s.jsx)(o.sn,{onClickBack:e,onDone:e})})}},60226:(e,t,n)=>{n.d(t,{r:()=>P});var s=n(29109),a=n(74848),o=n(96540),i=n(95081),l=n(80066),r=n(82544),c=n(17632),d=n(13888),_=n(44128),u=n(36100),m=(n(83650),n(46759),n(69648),n(88393),n(42661)),v=n(43395),y=n(16873),g=n(12343),b=n(14719),h=n(11046),p=n(36771),w=n(84618),x=n(43808),f=n(59184),j=n(12298),k=n(98689),N=n(8383),S=(n(41253),n(95821),n(60445),n(3418),n(48702),n(10941),n(16219),n(12174),n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574)),C=n(75988),I=(n(451),n(32482)),W=(n(30593),n(7085),n(15047)),E=(n(87237),n(5678)),T=(n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(90054)),D=(n(100),n(58080),n(53006),n(11012),n(71172),n(14624),n(44432),n(79903),n(53454),n(74566),n(85168),n(71092),n(26968),n(56950),n(43433),n(87583),n(30261),n(96696),n(58169),n(23121),n(4623),n(22923),n(44917),n(94734),n(26490),n(10647),n(78080)),F=n(10067),A=(n(95253),n(44719),n(79620),n(59553),n(31448),n(98592),n(40632)),R=n(57176),U=(n(18983),n(21858),n(80622),n(31825),n(89809));const P=()=>{var e,t,n,P,M,B,O,V,L,J,$,q,z,K,H;const{projectSettings:Z,primaryWallet:G,user:Q,handleLogOut:Y}=(0,U.J)(),{globalWallet:X}=null!==(e=null==G?void 0:G.connector)&&void 0!==e?e:{},{setDynamicWidgetView:ee}=(0,D.pJ)(),{addEmbeddedWalletRecoveryEmail:te}=(0,R.M)(),{createPassword:ne}=(0,W.L)(),{initExportProcess:se}=(0,A.H)(),{isTurnkeyWallet:ae,isTurnkeyWalletWithoutAuthenticator:oe,hasRecoveryEmail:ie}=(0,E.b)(),{theme:le}=(0,S.wR)(),{t:re}=(0,i.Bd)(),{initPasskeyRecoveryProcess:ce,shouldInitRecovery:de}=(0,I.V)(),[_e,ue]=(0,o.useState)(!1),{getEOAWallet:me}=(0,C.R)(),ve=null===(n=null===(t=null==Q?void 0:Q.verifiedCredentials)||void 0===t?void 0:t.find((({walletName:e})=>"coinbasempc"===e)))||void 0===n?void 0:n.walletProperties,ye=(0,l.hz)(null==G?void 0:G.connector),ge=Boolean(null==ve?void 0:ve.claimed),be=null===(M=null===(P=null==Q?void 0:Q.verifiedCredentials)||void 0===P?void 0:P.find((({walletName:e})=>null==e?void 0:e.startsWith("turnkey"))))||void 0===M?void 0:M.walletProperties,he=null==be?void 0:be.turnkeyHDWalletId,pe=Boolean(null===(L=null===(V=null===(O=null===(B=null==Z?void 0:Z.sdk)||void 0===B?void 0:B.embeddedWallets)||void 0===O?void 0:O.supportedSecurityMethods)||void 0===V?void 0:V.passkey)||void 0===L?void 0:L.isEnabled),we=ae&&!oe,xe=G&&me(G),fe=null!=xe?xe:G,je=G&&(0,l.vh)(G)||xe&&(0,l.vh)(xe),ke=e=>(0,s.s)(void 0,void 0,void 0,(function*(){return je||(yield de())&&(yield ce(void 0,{type:"reveal"})),se(e)})),Ne=Boolean(fe&&((null===($=null===(J=null==fe?void 0:fe.connector)||void 0===J?void 0:J.key)||void 0===$?void 0:$.startsWith("turnkey"))||(null===(z=null===(q=null==fe?void 0:fe.connector)||void 0===q?void 0:q.key)||void 0===z?void 0:z.startsWith("coinbasempc")))),Se=Boolean(null===(H=null===(K=null==Z?void 0:Z.security)||void 0===K?void 0:K.mfa)||void 0===H?void 0:H.enabled),Ce=pe&&ae&&!je,Ie=Se||ye||Ce;return(0,a.jsxs)("div",{className:"settings-view",children:[(0,a.jsxs)("div",{className:"settings-view__body",children:[(0,a.jsxs)("div",{className:"settings-view__body__section",children:[(0,a.jsx)("div",{className:"settings-view__body__section__title",children:re("dyn_settings.global_section.title")}),(0,a.jsx)(u.E,{dataTestId:"currency-button",buttonClassName:(0,T.x)("settings-view__body__section__button","settings-view__body__section__button__badge"),startSlot:(0,a.jsxs)("div",{className:"settings-view__body__section__button__start-slot",children:[(0,a.jsx)(p.h,{className:"settings-view__body__section__button__icon"}),(0,a.jsx)(_.o,{color:"primary",weight:"medium",copykey:"dyn_settings.global_section.currency.badge",children:re("dyn_settings.global_section.currency.title")}),(0,a.jsx)(r.E,{text:re("dyn_settings.global_section.currency.badge"),copykey:"dyn_settings.global_section.currency.badge",variant:"secondary"})]}),endSlot:(0,a.jsx)(b.h,{className:"settings-view__body__section__button__icon-secondary--rotate"}),disabled:!0,showInternalLoading:!1})]}),X&&(0,a.jsxs)("div",{className:"settings-view__body__section",children:[(0,a.jsx)("div",{className:"settings-view__body__section__title",children:re("dyn_settings.global_connectivity_section.title")}),(0,a.jsx)(u.E,{onClick:()=>{ee("connected-apps")},dataTestId:"connected-apps-button",buttonClassName:"settings-view__body__section__button",startSlot:(0,a.jsxs)("div",{className:"settings-view__body__section__button__start-slot",children:[(0,a.jsx)(h.h,{className:"settings-view__body__section__button__icon"}),(0,a.jsx)(_.o,{color:"primary",weight:"medium",copykey:"dyn_settings.global_connectivity_section.connected_apps_button",children:re("dyn_settings.global_connectivity_section.connected_apps_button")})]}),endSlot:(0,a.jsx)(b.h,{className:"settings-view__body__section__button__icon-secondary--rotate"}),showInternalLoading:!1})]}),Ie&&(0,a.jsxs)("div",{className:"settings-view__body__section",children:[(0,a.jsx)("div",{className:(0,T.x)("settings-view__body__section__title",{"settings-view__body__section__title__info-icon":!we}),children:re("dyn_settings.security_section.title")}),Ce&&(0,a.jsx)(u.E,{dataTestId:"manage-passkeys-button",onClick:()=>(0,s.s)(void 0,void 0,void 0,(function*(){if(we)return ee("manage-passkeys");ue(!0);try{yield ce("passkey")}finally{ue(!1)}})),buttonClassName:(0,T.x)("settings-view__body__section__button",{"settings-view__body__section__button__badge":!we}),startSlot:(0,a.jsxs)("div",{className:"settings-view__body__section__button__start-slot",children:[(0,a.jsx)(F.M,{className:"settings-view__body__section__button__icon",defaultIcon:(0,a.jsx)(y.h,{"data-testid":"default-icon"})}),(0,a.jsx)(_.o,{color:"primary",weight:"medium",copykey:"dyn_settings.security_section.passkey_button",children:re("dyn_settings.security_section.passkey_button")}),!we&&(0,a.jsx)(r.E,{text:re("dyn_settings.tags.recommended"),copykey:"dyn_settings.tags.recommended",variant:"secondary"})]}),endSlot:we?(0,a.jsx)(g.h,{className:"settings-view__body__section__button__icon-secondary--success"}):_e?(0,a.jsx)(d.y,{}):(0,a.jsx)(m.h,{}),disabled:_e,showInternalLoading:!1}),Se&&(0,a.jsx)(u.E,{dataTestId:"manage-mfa-button",onClick:()=>ee("manage-mfa"),buttonClassName:"settings-view__body__section__button",startSlot:(0,a.jsxs)("div",{className:"settings-view__body__section__button__start-slot",children:[(0,a.jsx)(k.h,{className:"settings-view__body__section__button__icon"}),(0,a.jsx)(_.o,{color:"primary",weight:"medium",copykey:"dyn_settings.security_section.mfa_button",children:re("dyn_settings.security_section.mfa_button")})]}),endSlot:(0,a.jsx)(b.h,{className:"settings-view__body__section__button__icon-secondary--rotate"}),disabled:_e,showInternalLoading:!1}),ye&&(0,a.jsx)(u.E,{dataTestId:"manage-password-button",onClick:()=>ne(!ge),buttonClassName:"settings-view__body__section__button",startSlot:(0,a.jsxs)("div",{className:"settings-view__body__section__button__start-slot",children:[(0,a.jsx)(v.h,{className:"settings-view__body__section__button__icon"}),(0,a.jsx)(_.o,{color:"primary",weight:"medium",copykey:"dyn_settings.security_section.passkey_button",children:re("dyn_settings.security_section.password_button")})]}),endSlot:ge?(0,a.jsx)(g.h,{className:"settings-view__body__section__button__icon-secondary--success"}):void 0,showInternalLoading:!1})]}),Ne&&(0,a.jsxs)(a.Fragment,{children:[ae&&!ie&&!je&&(0,a.jsxs)("div",{className:"settings-view__body__section",children:[(0,a.jsxs)("div",{className:(0,T.x)("settings-view__body__section__title","settings-view__body__section__title__info-icon"),children:[re("dyn_settings.identity_section.title"),(0,a.jsx)(c.I,{size:"small",children:(0,a.jsx)(f.h,{className:"settings-view__body__section__title__info-icon","data-testid":"email-info-icon-title"})})]}),(0,a.jsx)(u.E,{dataTestId:"manage-email-recovery-button",onClick:te,buttonClassName:(0,T.x)("settings-view__body__section__button","settings-view__body__section__button__badge"),startSlot:(0,a.jsxs)("div",{className:"settings-view__body__section__button__start-slot",children:[(0,a.jsx)(N.h,{className:"settings-view__body__section__button__icon email"}),(0,a.jsx)(_.o,{color:"primary",weight:"medium",copykey:"dyn_settings.identity_section.add_email_button",children:re("dyn_settings.identity_section.add_email_button")}),(0,a.jsx)(r.E,{text:re("dyn_settings.tags.recommended"),copykey:"dyn_settings.tags.recommended",variant:"secondary"})]}),endSlot:ie?(0,a.jsx)(g.h,{className:"settings-view__body__section__button__icon-secondary--success"}):_e?(0,a.jsx)(d.y,{}):(0,a.jsx)(m.h,{"data-testid":"email-add-icon"}),disabled:_e||ie,showInternalLoading:!1})]}),(0,a.jsxs)("div",{className:"settings-view__body__section",children:[(0,a.jsx)("div",{className:"settings-view__body__section__title",children:re("dyn_settings.export_section.title")}),(0,a.jsx)(u.E,{dataTestId:"embedded-reveal-account-button",onClick:()=>ke(),buttonClassName:"settings-view__body__section__button",startSlot:(0,a.jsxs)("div",{className:"settings-view__body__section__button__start-slot",children:[(0,a.jsx)(w.h,{className:"settings-view__body__section__button__icon"+("dark"===le.theme.name?"__stroke":"")}),(0,a.jsx)(_.o,{color:"primary",weight:"medium",copykey:"dyn_settings.export_section.private_key_button",children:re("dyn_settings.export_section.private_key_button")})]}),endSlot:(0,a.jsx)(b.h,{className:"settings-view__body__section__button__icon-secondary--rotate"}),showInternalLoading:!1}),he&&(0,a.jsx)(u.E,{dataTestId:"embedded-reveal-button",onClick:()=>ke(!0),buttonClassName:"settings-view__body__section__button",startSlot:(0,a.jsxs)("div",{className:"settings-view__body__section__button__start-slot",children:[(0,a.jsx)(x.h,{className:"settings-view__body__section__button__icon"+("dark"===le.theme.name?"__stroke":"")}),(0,a.jsx)(_.o,{color:"primary",weight:"medium",copykey:"dyn_settings.export_section.srp_button",children:re("dyn_settings.export_section.srp_button")})]}),endSlot:(0,a.jsx)(b.h,{className:"settings-view__body__section__button__icon-secondary--rotate"}),showInternalLoading:!1})]})]})]}),(0,a.jsx)("div",{className:"settings-view__logout-button-container",children:(0,a.jsx)(u.E,{buttonClassName:"settings-view__logout-button-container__button",onClick:Y,dataTestId:"logout-button",copykey:"dyn_settings.buttonLogout",startSlot:(0,a.jsx)(j.h,{}),children:re("dyn_settings.button_logout")})})]})}},46023:(e,t,n)=>{n.d(t,{K:()=>c});var s=n(74848),a=(n(60445),n(100),n(58080),n(96540),n(12174),n(29109),n(83650),n(46759),n(69648),n(88393),n(80066),n(41253),n(95821),n(3418),n(48702),n(10941),n(16219),n(89809)),o=(n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(29482)),i=(n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(95081),n(44128)),l=(n(58169),n(53006),n(74566),n(85168),n(71092),n(79620),n(22923),n(23121),n(59553),n(78080),n(63263)),r=n(54408);n(11012),n(79903),n(30261),n(96696),n(44719),n(14624),n(53454),n(31448),n(95253),n(98592),n(18983),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968),n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583);const c=()=>{const{user:e,multiWallet:t}=(0,a.J)(),n=(0,o.D)();return(0,s.jsxs)(s.Fragment,{children:[!t&&!n&&(0,s.jsxs)("div",{className:"dynamic-widget-index-view__email-container",children:[(0,s.jsx)(i.o,{children:null==e?void 0:e.email}),(0,s.jsx)(r.b,{})]}),t&&(0,s.jsx)(l.k,{})]})}},53108:(e,t,n)=>{n.d(t,{A:()=>_});var s=n(74848),a=(n(60445),n(100),n(58080),n(96540),n(12174),n(29109),n(83650),n(46759),n(69648),n(88393),n(80066),n(41253),n(95821),n(3418),n(48702),n(10941),n(23577)),o=(n(16219),n(89809)),i=(n(54769),n(60337),n(4402),n(11011),n(40337),n(81285),n(45468),n(99157),n(7116),n(20433),n(83073),n(21029),n(47979),n(63055),n(28765),n(40961),n(20545),n(50574),n(451),n(30593),n(7085),n(87237),n(80607),n(6864),n(29147),n(72366),n(55537),n(65381),n(75705),n(27373),n(95081),n(58169),n(53006)),l=(n(74566),n(85168),n(71092)),r=(n(79620),n(22923),n(23121),n(59553),n(78080),n(11012),n(79903),n(30261),n(96696),n(44719),n(14624),n(53454),n(31448),n(95253),n(98592),n(18983),n(21858),n(4623),n(44917),n(94734),n(26490),n(10647),n(26968),n(80622),n(31825),n(71172),n(44432),n(56950),n(43433),n(87583),n(6439));const c=({onrampUrl:e})=>{const{fundingRef:t,setShowFunding:n}=(0,r.Oc)();return(0,a.W)(t,(()=>{n(!1)})),(0,s.jsx)("div",{className:"fund-wallet__modal","data-testid":"fund-wallet-modal",children:(0,s.jsx)("div",{className:"fund-wallet__modal-content",ref:t,children:(0,s.jsx)("iframe",{id:"onramp-iframe",src:e,allow:"camera *;geolocation *",title:"Crypto Onramp"})})})},d=()=>{const{primaryWallet:e}=(0,o.J)(),{showFunding:t,fundingUrl:n,fundingEnabled:a}=(0,r.Oc)();return a&&t&&n&&(null==e?void 0:e.address)?(0,s.jsx)(i.rM,{children:(0,s.jsxs)(l.r,{isShown:t,children:[(0,s.jsx)("div",{className:"fund-wallet__backdrop","aria-hidden":"true"}),(0,s.jsx)("div",{className:"fund-wallet__modal-container",children:(0,s.jsx)(c,{onrampUrl:n})})]})}):null},_=()=>(0,s.jsx)(d,{})},83353:()=>{function e(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}var n=e,s=t;function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===e||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}"function"==typeof globalThis.setTimeout&&(n=setTimeout),"function"==typeof globalThis.clearTimeout&&(s=clearTimeout);var o,i=[],l=!1,r=-1;function c(){l&&o&&(l=!1,o.length?i=o.concat(i):r=-1,i.length&&d())}function d(){if(!l){var e=a(c);l=!0;for(var n=i.length;n;){for(o=i,i=[];++r<n;)o&&o[r].run();r=-1,n=i.length}o=null,l=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===t||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function u(){}_.prototype.run=function(){this.fun.apply(null,this.array)};var m=u,v=u,y=u,g=u,b=u,h=u,p=u,w=globalThis.performance||{},x=w.now||w.mozNow||w.msNow||w.oNow||w.webkitNow||function(){return(new Date).getTime()},f=new Date,j={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];i.push(new(_(e,t))),1!==i.length||l||a(d)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:m,addListener:v,once:y,off:g,removeListener:b,removeAllListeners:h,emit:p,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*x.call(w),n=Math.floor(t),s=Math.floor(t%1*1e9);return e&&(n-=e[0],(s-=e[1])<0&&(n--,s+=1e9)),[n,s]},platform:"browser",release:{},config:{},uptime:function(){return((new Date).getTime()-f.getTime())/1e3}};const k={};Object.keys(k).forEach((e=>{const t=e.split(".");let n=j;for(let s=0;s<t.length;s++){const a=t[s];s===t.length-1?n[a]=k[e]:n=n[a]||(n[a]={})}})),"undefined"!=typeof window&&(window.global=globalThis,window.process||"undefined"!=typeof process||Object.assign(window,{process:j}))},91382:(e,t,n)=>{n.d(t,{m:()=>o,x:()=>a});var s=n(57671);const a=s.r,o=s.E["@dynamic-labs/sdk-api-core"]}}]);