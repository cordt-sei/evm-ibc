"use strict";(self.webpackChunkibc_transfer_ui=self.webpackChunkibc_transfer_ui||[]).push([[1748],{61320:(e,n,o)=>{o.d(n,{q:()=>c});var t=o(74848),i=o(95821),a=o(50574),l=(o(96540),o(83650),o(46759),o(69648),o(88393),o(80066),o(41253),o(60445),o(3418),o(48702),o(10941),o(16219),o(12174),o(29109),o(54769),o(60337),o(4402),o(11011),o(40337),o(41653)),s=(o(81285),o(45468),o(99157),o(7116),o(20433),o(83073),o(21029),o(47979),o(63055),o(28765),o(40961),o(20545),o(451),o(30593),o(7085),o(87237),o(80607),o(6864),o(29147),o(72366),o(55537),o(65381),o(75705),o(27373),o(95081),o(100),o(58080),o(53006),o(11012),o(71172),o(14624),o(44432),o(79903),o(53454),o(74566),o(85168),o(71092),o(26968),o(56950),o(43433),o(87583),o(10217)),r=(o(30261),o(96696),o(58169),o(23121),o(4623),o(22923),o(44917),o(94734),o(26490),o(10647),o(78080),o(95253),o(44719),o(79620),o(59553),o(31448),o(98592),o(18983),o(21858),o(80622),o(31825),o(89809));const c=()=>{var e;const{theme:{theme:n}}=(0,a.wR)(),{name:o}=n,{qrcodeUri:c,desktopUri:d,selectedWalletConnector:u}=(0,r.J)();if(!u)return null;const v=(0,t.jsx)(i.lc,{icon:u.metadata.icon,walletKey:u.key,style:{height:(0,l.a)(32),width:(0,l.a)(32)}});return(0,t.jsx)(s.A,{uri:c,desktopUri:d,accentColor:"dark"===o?n.colors.textPrimary:null!==(e=u.metadata.brandColor)&&void 0!==e?e:"",icon:v,showCopyToClipboardButton:u.isWalletConnect,walletConnector:u})}},43774:(e,n,o)=>{o.d(n,{T:()=>r});var t=o(74848),i=o(95081),a=o(41253),l=(o(60445),o(100),o(58080),o(96540),o(12174),o(29109),o(83650),o(46759),o(69648),o(88393),o(80066),o(95821),o(3418),o(48702),o(10941),o(16219),o(54769),o(60337),o(4402),o(11011),o(40337),o(81285),o(45468),o(99157),o(7116),o(20433),o(83073),o(21029),o(47979),o(63055),o(28765),o(40961),o(20545),o(50574),o(451),o(30593),o(7085),o(87237),o(80607),o(6864),o(29147),o(72366),o(55537),o(65381),o(75705),o(27373),o(44128)),s=(o(58169),o(53006),o(74566),o(85168),o(71092),o(79620),o(22923),o(23121),o(59553),o(78080),o(11012),o(79903),o(36100));o(30261),o(96696),o(44719),o(14624),o(53454),o(31448),o(95253),o(98592),o(18983),o(21858),o(4623),o(44917),o(94734),o(26490),o(10647),o(26968),o(80622),o(31825),o(71172),o(44432),o(56950),o(43433),o(87583);const r=()=>{const{t:e}=(0,i.Bd)(),{goToInitialView:n}=(0,a.At)();return(0,t.jsxs)("div",{className:"sandbox-threshold__main",children:[(0,t.jsx)(l.o,{variant:"title",color:"primary",className:"sandbox-threshold__title",children:e("dyn_sandbox_maximum_threshold.title")}),(0,t.jsx)(l.o,{variant:"body_normal",weight:"regular",color:"secondary",className:"sandbox-threshold__description",children:e("dyn_sandbox_maximum_threshold.description")}),(0,t.jsx)(s.E,{onClick:()=>{n()},className:"sandbox-threshold__button",expanded:!0,buttonPadding:"large",children:e("dyn_sandbox_maximum_threshold.button")})]})}},3470:(e,n,o)=>{o.d(n,{x:()=>v});var t=o(74848),i=o(95081),a=o(95821),l=o(80066),s=(o(60445),o(100),o(58080),o(96540),o(12174),o(29109),o(83650),o(46759),o(69648),o(88393),o(41253),o(3418),o(48702),o(10941),o(16219),o(54769),o(60337),o(4402),o(11011),o(40337),o(81285),o(45468),o(99157),o(7116),o(20433),o(83073),o(21029),o(47979),o(63055),o(28765),o(40961),o(20545),o(50574),o(451),o(30593),o(7085),o(87237),o(80607),o(6864),o(29147),o(72366),o(55537),o(65381),o(75705),o(27373),o(44128)),r=(o(58169),o(53006),o(74566),o(85168),o(71092),o(79620),o(22923),o(23121),o(59553),o(46856)),c=o(50984),d=(o(78080),o(17632)),u=(o(11012),o(79903),o(36100));o(30261),o(96696),o(44719),o(14624),o(53454),o(31448),o(95253),o(98592),o(18983),o(21858),o(4623),o(44917),o(94734),o(26490),o(10647),o(26968),o(80622),o(31825),o(71172),o(44432),o(56950),o(43433),o(87583);const v=({wallet:e,onSelectWallet:n})=>{const{t:o}=(0,i.Bd)();return(0,t.jsx)("div",{className:"select-hardware-wallet-view",children:(0,t.jsxs)("div",{className:"select-hardware-wallet-view__container",children:[(0,t.jsx)(d.I,{className:"select-hardware-wallet-view__icon",children:(0,t.jsx)(a.lc,{icon:e.walletConnector.metadata.icon,walletKey:e.key})}),(0,t.jsx)(s.o,{className:"select-hardware-wallet-view__text",as:"p",color:"secondary",variant:"body_normal",copykey:"dyn_select_hardware_wallet.description",children:o("dyn_select_hardware_wallet.description")}),(0,l.fg)(e.walletConnector)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.w,{connectors:[e.walletConnector],copykey:"dyn_select_chain.using_hardware_wallet_toggle_label",label:o("dyn_select_chain.using_hardware_wallet_toggle_label")}),(0,t.jsx)(c.c,{})]}),(0,t.jsx)(u.E,{buttonVariant:"primary",onClick:()=>null==n?void 0:n(e),copykey:"dyn_select_hardware_wallet.button",dataTestId:"select-hardware-wallet-connect-button",children:o("dyn_select_hardware_wallet.button")})]})})}},27661:(e,n,o)=>{o.d(n,{W:()=>p});var t=o(74848),i=o(95081),a=o(95821),l=o(53320),s=o(23121),r=o(27373),c=(o(46759),o(69648),o(88393),o(80066),o(96540),o(87300)),d=(o(41253),o(74043)),u=(o(10941),o(60445),o(16219),o(48702),o(29109),o(4402),o(3418),o(11011),o(40337),o(41653)),v=(o(81285),o(45468),o(99157),o(7116),o(20433),o(83073),o(100),o(58080),o(12174),o(83650),o(89809)),y=(o(54769),o(60337),o(21029),o(47979),o(63055),o(28765),o(40961),o(20545),o(50574),o(451),o(30593),o(7085),o(87237),o(80607),o(6864),o(29147),o(72366),o(55537),o(65381),o(75705),o(44128)),m=(o(58169),o(53006),o(74566),o(85168),o(71092),o(79620),o(22923),o(7096)),_=(o(59553),o(17632)),h=o(34190),w=(o(78080),o(11012),o(79903),o(30261),o(96696),o(44719),o(14624),o(53454),o(31448),o(95253),o(98592),o(82544));o(18983),o(21858),o(4623),o(44917),o(94734),o(26490),o(10647),o(26968),o(80622),o(31825),o(71172),o(44432),o(56950),o(43433),o(87583);const g=({groupKey:e,wallet:n,onClick:o})=>{const{recommendedWallets:i}=(0,v.J)(),{walletBook:l}=(0,a.ZZ)(),s=(0,a.SV)(l,e,n.key),r=(0,a.pD)(l,n.key),g=(null==s?void 0:s.brand)||(null==r?void 0:r.brand),p=(null==s?void 0:s.name)||(null==r?void 0:r.name),b=g?(0,t.jsx)(a.rK,{brand:g,walletKey:n.key,style:{height:(0,u.a)(28),width:(0,u.a)(28)}}):null,x=(0,d.t)({recommendedWallets:i,wallet:n}),C=(0,t.jsx)(m.K,{hoverElement:(0,t.jsx)(_.I,{color:"text-tertiary",size:"mini",children:(0,t.jsx)(c.h,{})}),children:x&&(0,t.jsx)(w.E,{dot:!x.isRecommended,variant:x.isRecommended?"primary":"secondary",text:(0,t.jsx)(y.o,{variant:"body_small",children:x.label})})});return(0,t.jsx)(h.F,{onClick:o,leading:b,trailing:C,children:p})},p=({onSelectWallet:e})=>{var n;const{selectedWalletGroup:o}=(0,s.Rz)(),c=(0,r.HZ)(),{t:d}=(0,i.Bd)();if(!o)throw new Error("Could not access WalletGroup view without selected group");const u=c[o.key];if(!u)throw new Error("Could not access WalletGroup view without group data");return(0,t.jsx)(l.u,{icon:(0,t.jsx)(a.lc,{walletKey:u.key,isGroup:!0,icon:null===(n=u.brand)||void 0===n?void 0:n.icon}),title:d("dyn_select_wallet.description",{walletName:u.name}),titleCopyKey:"dyn_select_wallet.description",children:o.groupedWallets.map(((n,i)=>(0,t.jsx)(g,{groupKey:o.key,wallet:n,onClick:()=>e(n)},`${n.key}_${i}`)))})}},85864:(e,n,o)=>{o.d(n,{sn:()=>B});var t=o(29109),i=o(74848),a=o(96540),l=o(95081),s=o(46759),r=o(60445),c=o(80066),d=o(81640),u=o(8001),v=o(13888),y=o(38836),m=(o(83650),o(69648)),_=(o(88393),o(41253),o(95821),o(49795)),h=(o(3418),o(48702),o(10941),o(16219),o(12174)),w=(o(54769),o(60337),o(4402),o(11011),o(40337),o(81285),o(45468),o(99157),o(7116),o(29213)),g=(o(20433),o(83073),o(21029),o(47979),o(63055),o(28765),o(40961),o(20545),o(50574),o(451),o(30593),o(7085),o(87237),o(80607),o(6864),o(29147),o(72366),o(55537),o(65381),o(75705),o(27373),o(100),o(58080),o(53006),o(11012),o(71172),o(14624),o(44432),o(79903),o(53454),o(74566),o(85168),o(71092),o(26968),o(56950),o(43433),o(87583),o(15730)),p=(o(30261),o(96696),o(58169),o(23121),o(4623),o(22923),o(44917),o(94734),o(26490),o(10647),o(78080),o(95253),o(44719)),b=(o(79620),o(59553),o(31448)),x=(o(98592),o(18983),o(21858),o(2742)),C=o(15700),k=(o(31825),o(89809));const f="0x0000000000000000000000000000000000000000",j="11111111111111111111111111111111",N=e=>e.address===f||e.address===j,S=(e,n)=>n?e.value?e.format(e.value,{precision:6}):"0":e.nonNativeValue&&e.formatNonNativeToken?e.formatNonNativeToken(e.nonNativeValue,e.nonNativeDecimal||18):"0",B=({initialRecipientAddress:e="",initialValue:n,onClickBack:o,onClickClose:B,onError:T,onSuccess:V,onDone:I,displayPoweredByDynamicFooter:A=!1})=>{const[E,P]=(0,a.useState)("form"),{primaryWallet:F,walletUiUtils:W}=(0,k.J)(),{t:D}=(0,l.Bd)(),[K,U]=(0,a.useState)(!1),[L,O]=(0,a.useState)(void 0),[M,R]=(0,a.useState)(void 0),{showFiat:J}=(0,k.J)(),z=null==F?void 0:F.connector,{chain:q}=(0,g.$)(z),{tokenBalances:G,isLoading:Q}=(0,C.m)({chainName:"SOL"===(null==z?void 0:z.connectedChain)?s.lVq.Sol:s.lVq.Evm,includeFiat:J,includeNativeBalance:!0});if(!F)throw new r.ii("Primary wallet is not available, send balance cannot be displayed");if(z&&!(0,c.Jd)(z))throw new r.ii("Primary wallet is not eligible for this operation. It must implement ISendBalanceWalletConnector");const[$,H]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e="SOL"!==(null==z?void 0:z.connectedChain)?(0,w.F)(Number(null==q?void 0:q.chainId)):void 0;return(0,p.zQ)("chainName",e||(null==q?void 0:q.name)||(null==z?void 0:z.connectedChain)),()=>{(0,p.fy)()}}),[null==q?void 0:q.name,null==z?void 0:z.connectedChain]),(0,a.useEffect)((()=>{G&&R((e=>{const n=e.filter((e=>e.address!==f&&e.address!==j)),o=e.find((e=>N(e)));return o?[o].concat(n):n})(G))}),[G]),(0,a.useEffect)((()=>{z&&(L&&U(N(L)),z.createUiTransaction(null==F?void 0:F.address).then((o=>{e&&(o.to=e),n&&(o.value=n),L&&!N(L)&&(o.nonNativeAddress=null==L?void 0:L.address,o.nonNativeValue=BigInt(0),o.nonNativeDecimal=null==L?void 0:L.decimals),H(o)})).catch((e=>{m.v.debug("[SendBalanceView] Error creating transaction",e),e instanceof r.ii&&"0"===e.code?null==I||I():null==T||T(e)})))}),[L]);const Z=(0,x.$)(F);if(!$||!Z)return(0,i.jsx)("div",{className:"send-balance-widget-view__spinner","data-testid":"send-balance-spinner",children:(0,i.jsx)(v.y,{})});const X=(null==L?void 0:L.symbol)||Z.nativeCurrency.symbol,Y=(null==q?void 0:q.name)&&(0,i.jsx)(d.P,{chain:q,chainName:q.name});return(()=>{switch(E){case"form":return(0,i.jsx)(u.s,{transaction:$,onClickBack:o,networkName:Z.vanityName||Z.name,networkIcon:Y,networkCurrencyDecimals:"SOL"===Z.nativeCurrency.symbol?9:Z.nativeCurrency.decimals,walletAddress:(0,_.F)(null==L?void 0:L.address,3,3),walletKey:null==F?void 0:F.connector.key,onClickClose:B,displayPoweredByDynamicFooter:A,onSubmit:()=>P("confirmation"),tokenBalances:null!=M?M:L&&[L],currentToken:L,setCurrentToken:O,isLoading:Q,isNativeToken:K});case"confirmation":return(0,i.jsx)(b.t,{walletConnector:null==F?void 0:F.connector,transaction:$,mutation:()=>(W.disabledConfirmationOnce(),$.submit()),copykey:"dyn_send_transaction.confirmation.title",title:D("dyn_send_transaction.confirmation.title"),onClickBack:()=>P("form"),onError:T,displayPoweredByDynamicFooter:A,onSuccess:e=>(0,t.s)(void 0,void 0,void 0,(function*(){e&&(null==V||V(e),P("success"),(e=>{(0,t.s)(void 0,void 0,void 0,(function*(){"SOL"===(null==z?void 0:z.connectedChain)&&setTimeout((()=>h.zm.emit("tokenBalancesChanged")),5e3),(null==z?void 0:z.confirmTransactionStatus)&&(yield null==z?void 0:z.confirmTransactionStatus(e),h.zm.emit("tokenBalancesChanged"))}))})(e))})),currentToken:L,isNativeToken:K,transactionValue:S($,K),sendBalanceTransaction:!0});case"success":return(0,i.jsx)(y.r,{transactionValue:S($,K),destinationAddress:null!==(e=$.to)&&void 0!==e?e:"",networkCurrency:X,networkName:Z.name||"",NetworkIcon:Y,onClickClose:B,onDone:()=>null==I?void 0:I(),displayPoweredByDynamicFooter:A,transaction:$,currentToken:L,isNativeToken:K})}var e})()}},13181:(e,n,o)=>{o.d(n,{V:()=>C});var t=o(74848),i=o(95081),a=o(36170),l=o(32148),s=o(41253),r=(o(60445),o(100),o(58080),o(96540)),c=o(12174),d=o(29109),u=(o(83650),o(46759),o(69648)),v=(o(88393),o(80066),o(95821),o(3418),o(48702),o(10941),o(16219),o(89809)),y=(o(54769),o(60337),o(4402),o(11011)),m=(o(40337),o(81285),o(45468),o(99157),o(7116),o(20433),o(83073),o(21029),o(47979),o(63055),o(28765)),_=(o(40961),o(20545),o(50574),o(451),o(30593),o(7085),o(87237),o(80607),o(6864),o(29147),o(72366),o(55537),o(65381),o(75705),o(27373),o(58169),o(53006),o(74566),o(85168),o(71092),o(79620),o(22923),o(23121),o(59553),o(78080),o(11012),o(79903),o(30261),o(96696),o(44719),o(14624),o(53454),o(31448),o(95253),o(98592),o(18983),o(21858),o(4623),o(44917),o(94734),o(26490),o(10647),o(21416)),h=(o(26968),o(85743)),w=o(1259),g=o(30447),p=o(32708),b=o(65042),x=o(68248);o(71172),o(44432),o(56950),o(43433),o(87583),o(80622),o(31825);const C=()=>{const{view:e}=(0,s.At)(),{handleLogOut:n}=(0,v.J)(),{t:o}=(0,i.Bd)(),C="login-with-sms-verification"===e.type,{error:k,formattedPhone:f,isLoading:j,isValid:N,onSubmit:S,retryOneTimePassword:B,setError:T}=(e=>{const{verificationUUID:n,displayedDestination:o,retryData:t}=(0,m.vm)(),{environmentId:i,user:a,userWithMissingInfo:l,projectSettings:s}=(0,v.J)(),[_,C]=(0,r.useState)(),{verifyOtp:k}=(0,w.b)(),{generateSessionKey:f,shouldRegisterSessionKeysOnSignin:j}=(0,g.t)({environmentId:i,projectSettings:s}),{initAuth:N,completeAuth:S,cancelAuth:B}=(0,x.r)({authMethod:"sms"}),T=(0,r.useRef)(!1);(0,b.X)((()=>{const e=null!=t?t:{dialCode:"",iso2:"",phone:""};t||u.v.warn("WARNING: emitted smsVerificationResult with incomplete params because retryData was undefined"),c.zm.emit("smsVerificationResult",T.current,e),T.current||c.zm.emit("authFailure",{option:e,phone:e,type:"sms"},"user-cancelled")}));const V=(0,r.useCallback)((e=>(0,d.s)(void 0,void 0,void 0,(function*(){n&&(a||l)?yield S({onValidUpdatedJwt:()=>T.current=!0,updateJwtFunction:()=>(0,d.s)(void 0,void 0,void 0,(function*(){return k(e,"sms",n)}))}):yield B()}))),[B,S,a,l,n,k]),I=(0,r.useCallback)((e=>(0,d.s)(void 0,void 0,void 0,(function*(){n?yield N({onError:e=>C(e),onVerifySuccess:()=>{T.current=!0},options:{phone:t},showSuccessMessage:!0,verifyFunction:()=>(0,d.s)(void 0,void 0,void 0,(function*(){let o;return j()&&(o=(yield f()).publicKey),(0,h.vi)({environmentId:i,sessionPublicKey:o,verificationToken:e,verificationUUID:n})}))}):yield B()}))),[n,N,t,B,i]),{isLoading:A,mutate:E}=(0,p.n)("login"===e?I:V,{onFailure:e=>{C(e)}});return{error:_,formattedPhone:null!=o?o:"",isLoading:A,isValid:T.current,onSubmit:E,retryOneTimePassword:()=>(0,d.s)(void 0,void 0,void 0,(function*(){C(void 0),n&&t?(0,h.ty)({environmentId:i,isoCountryCode:t.iso2,phoneCountryCode:t.dialCode,phoneNumber:(0,y.yT)({dialCode:t.dialCode,phone:t.phone}),verificationUUID:n}):yield B()})),setError:C}})(C?"login":"verify-only"),V=C?void 0:(0,t.jsx)(_.Q,{className:"sms-verification__log-out",onClick:n,copykey:"dyn_otp_verification.log_out_button",children:o("dyn_otp_verification.log_out_button")});return(0,t.jsx)(a.K,{MainIcon:l.E,displayedDestination:f,error:k,hideHeader:!0,isLoading:j,onPinComplete:S,isValid:N,retryHandler:B,onPinChange:()=>T(void 0),appendToEnd:V})}},35178:(e,n,o)=>{o.d(n,{B:()=>v});var t=o(74848),i=o(95081),a=o(46759),l=o(90054),s=(o(100),o(58080),o(96540),o(12174),o(29109),o(60445),o(83650),o(69648),o(88393),o(80066),o(41253),o(95821),o(3418),o(48702),o(10941),o(16219),o(54769),o(60337),o(4402),o(11011),o(40337),o(81285),o(45468),o(99157),o(7116),o(20433),o(83073),o(21029),o(47979),o(63055),o(28765),o(40961),o(20545),o(91444)),r=(o(50574),o(451),o(30593),o(7085),o(87237),o(80607),o(6864),o(29147),o(72366),o(55537),o(65381),o(75705),o(27373),o(97092)),c=(o(53006),o(74566),o(85168),o(71092),o(79620),o(58169),o(22923)),d=(o(23121),o(59553),o(51645)),u=o(44128);o(78080),o(11012),o(79903),o(30261),o(96696),o(44719),o(14624),o(53454),o(31448),o(95253),o(98592),o(18983),o(21858),o(4623),o(44917),o(94734),o(26490),o(10647),o(26968),o(80622),o(31825),o(71172),o(44432),o(56950),o(43433),o(87583);const v=()=>{const{socialProvider:e,signInProvider:n}=(0,c.ki)(),o=(0,s.F)(),{t:v}=(0,i.Bd)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:(0,l.x)("social-redirect-view__container"),children:[e&&(0,t.jsx)(d.x,{iconSize:64,Icon:o(e),isSpinning:!0}),(0,t.jsx)(u.o,{weight:"medium",variant:"title",className:(0,l.x)("social-redirect-view__title"),copykey:"dyn_social_redirect.logging_in",children:v("dyn_social_redirect.logging_in")})]}),n!==a.PCu.MagicLink&&(0,t.jsx)(r.X,{})]})}},75566:(e,n,o)=>{o.d(n,{N:()=>v});var t=o(74848),i=o(96540),a=o(95081),l=o(90054),s=(o(100),o(58080),o(12174),o(29109),o(60445),o(83650),o(46759),o(69648),o(88393),o(80066),o(41253),o(95821),o(3418),o(48702),o(10941),o(16219),o(54769),o(60337),o(4402),o(11011),o(40337),o(81285),o(45468),o(99157),o(7116),o(20433),o(83073),o(21029),o(47979),o(63055),o(28765),o(40961),o(20545),o(91444)),r=(o(50574),o(451),o(30593),o(7085),o(87237),o(80607),o(6864),o(29147),o(72366),o(55537),o(65381),o(75705),o(27373),o(44128)),c=(o(58169),o(53006),o(74566),o(85168),o(71092),o(79620),o(22923)),d=(o(23121),o(59553),o(51645)),u=(o(78080),o(11012),o(79903),o(36100));o(30261),o(96696),o(44719),o(14624),o(53454),o(31448),o(95253),o(98592),o(18983),o(21858),o(4623),o(44917),o(94734),o(26490),o(10647),o(26968),o(80622),o(31825),o(71172),o(44432),o(56950),o(43433),o(87583);const v=()=>{const[e,n]=(0,i.useState)(!1),{socialWalletConnector:o,socialAccount:v}=(0,c.ki)(),{t:y}=(0,a.Bd)(),m=(0,s.F)();return v&&o?(0,t.jsxs)("div",{className:(0,l.x)("social-wrong-account-view__container"),children:[(0,t.jsx)(d.x,{Icon:m(v.oauthProvider),isSpinning:e,iconSize:64}),(0,t.jsx)(r.o,{weight:"medium",variant:"title",className:(0,l.x)("social-wrong-account-view__title"),copykey:"dyn_login.wrong_social_account.title",children:y("dyn_login.wrong_social_account.title")}),(0,t.jsx)(r.o,{variant:"body_normal",weight:"regular",className:(0,l.x)("social-wrong-account-view__copy"),copykey:"dyn_login.wrong_social_account.subtitle",children:y("dyn_login.wrong_social_account.subtitle")}),(0,t.jsxs)(r.o,{variant:"body_normal",weight:"regular",className:(0,l.x)("social-wrong-account-view__copy"),copykey:"dyn_login.wrong_social_account.retry_title",children:[y("dyn_login.wrong_social_account.retry_title"),(0,t.jsx)("b",{children:v.oauthUsername})]}),(0,t.jsx)(u.E,{buttonClassName:"social-wrong-account-view__button",buttonVariant:"primary",buttonPadding:"large",expanded:!0,typographyProps:{variant:"button_primary",weight:"medium"},disabled:e,onClick:()=>{n(!0),o.connect(v.oauthProvider)},copykey:"dyn_login.wrong_social_account.retry_button",children:y("dyn_login.wrong_social_account.retry_button")})]}):null}},93902:(e,n,o)=>{o.d(n,{P:()=>_});var t=o(29109),i=o(74848),a=o(96540),l=o(30261),s=o(95081),r=(o(60445),o(100),o(58080),o(12174),o(83650),o(46759),o(69648)),c=(o(88393),o(80066),o(41253),o(95821),o(3418),o(48702),o(10941),o(16219),o(89809)),d=(o(54769),o(60337),o(4402),o(11011),o(40337),o(81285),o(45468),o(99157),o(7116),o(20433),o(83073),o(21029),o(47979),o(63055),o(28765),o(40961),o(20545),o(50574),o(451),o(30593),o(7085),o(87237),o(80607),o(6864),o(29147),o(72366),o(55537),o(65381),o(75705),o(27373),o(44128)),u=(o(58169),o(53006),o(74566),o(85168),o(71092),o(79620),o(22923),o(23121),o(59553),o(50984)),v=(o(78080),o(11012),o(79903),o(96696)),y=(o(44719),o(14624)),m=(o(53454),o(31448),o(95253),o(98592),o(18983),o(21858),o(4623),o(44917),o(94734),o(26490),o(10647),o(26968),o(80622),o(31825),o(75328));o(71172),o(44432),o(56950),o(43433),o(87583);const _=({showDetails:e=!1})=>{const{t:n}=(0,s.Bd)(),{values:o,setFieldValue:_,initialValues:h}=(0,l.j7)(),w=(0,v.y)(),{projectSettings:g}=(0,c.J)(),[p,b]=(0,a.useState)(void 0),x=(0,a.useMemo)((()=>void 0===o["name-service-subdomain-handle"]?h["name-service-subdomain-handle"]||"":o["name-service-subdomain-handle"]),[o,h]),C=(0,a.useMemo)((()=>{var e;const n=null===(e=null==g?void 0:g.sdk.nameService)||void 0===e?void 0:e.evm.domain;if(n)return`.${n}`}),[g]),k=(0,a.useCallback)((e=>(0,t.s)(void 0,void 0,void 0,(function*(){if(""!==e&&e!==h["name-service-subdomain-handle"]){const n=yield w({subdomain:e});b(n)}else b(void 0)}))),[w,h]),f=(0,m.d)(k,500),j=(0,a.useMemo)((()=>{if(p)return(null==p?void 0:p.error)?n("dyn_subdomain_field.error"):(null==p?void 0:p.available)?n("dyn_subdomain_field.available"):n("dyn_subdomain_field.not_available")}),[p,n]);return C?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"subdomain-field__container",children:[(0,i.jsx)(y.p,{id:"subdomain-field",className:"input__container--available",value:x,onChange:e=>(0,t.s)(void 0,void 0,void 0,(function*(){_("name-service-subdomain-handle",e.target.value),f(e.target.value)})),label:n("dyn_subdomain_field.label"),error:!(!j||(null==p?void 0:p.available)),success:null==p?void 0:p.available,message:j}),(0,i.jsx)(d.o,{as:"span",color:"secondary",variant:"body_normal",children:C})]}),e&&(0,i.jsx)(d.o,{as:"p",color:"secondary",variant:"body_small",className:"subdomain-field__details",children:n("dyn_subdomain_field.details")}),(0,i.jsx)(u.c,{})]}):(r.v.error("Failed to get ENS domain from settings.sdk.nameService"),null)}},68319:(e,n,o)=>{o.d(n,{e:()=>N});var t=o(29109),i=o(74848),a=o(80066),l=o(60445),s=(o(21858),o(3194)),r=o(69206),c=o(96540),d=(o(83650),o(46759),o(69648)),u=(o(88393),o(41253),o(95821)),v=(o(3418),o(48702),o(10941),o(16219),o(54769),o(60337),o(4402),o(11011),o(40337),o(81285),o(45468),o(99157),o(7116),o(20433),o(83073),o(21029),o(47979),o(63055),o(12174),o(28765),o(40961),o(20545),o(50574)),y=(o(451),o(30593),o(7085),o(87237),o(80607),o(6864),o(29147),o(72366),o(55537),o(65381),o(75705),o(27373),o(95081)),m=(o(100),o(58080),o(53006),o(11012),o(71172),o(14624),o(44432),o(79903),o(53454),o(74566),o(85168),o(71092),o(26968),o(56950),o(43433),o(87583),o(30261),o(96696),o(58169),o(23121),o(4623),o(22923),o(44917),o(94734),o(26490),o(10647),o(78080),o(95253),o(44719),o(79620),o(59553),o(31448),o(98592),o(18983),o(55207)),_=o(42047),h=o(49795),w=o(44128),g=o(50984);o(80622),o(31825);const p=({onCancel:e,connector:n,expectedAddress:o,activeAddress:t})=>{const{t:a}=(0,y.Bd)();return(0,i.jsx)(m.B,{dataTestId:"switch-wallet",className:"switch-wallet",icon:(0,i.jsx)(u.lc,{icon:n.metadata.icon,walletKey:n.key}),title:a("dyn_sync_wallet.switch_wallet.title"),onClose:e,children:(0,i.jsxs)("div",{className:"switch-wallet__body",children:[t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.o,{variant:"body_mini",color:"secondary",weight:"regular",copykey:"dyn_sync_wallet.switch_wallet.active_address.heading",children:a("dyn_sync_wallet.switch_wallet.active_address.heading")}),(0,i.jsx)(w.o,{variant:"body_normal",color:"primary",weight:"regular",children:(0,h.F)(t,3,3)}),(0,i.jsx)(g.c,{className:"switch-wallet__body__divider",children:(0,i.jsx)(_.h,{})})]}),(0,i.jsx)(w.o,{variant:"body_mini",color:"secondary",weight:"regular",copykey:"dyn_sync_wallet.switch_wallet.expected_address.heading",children:a("dyn_sync_wallet.switch_wallet.expected_address.heading")}),(0,i.jsx)(w.o,{variant:"body_normal",color:"primary",weight:"regular",copykey:"dyn_sync_wallet.switch_wallet.expected_address.prompt",className:"switch-wallet__body__expected-address__prompt",children:a("dyn_sync_wallet.switch_wallet.expected_address.prompt")}),(0,i.jsx)(w.o,{color:"green-1",weight:"bold",className:"switch-wallet__body__expected-address__address",children:(0,h.F)(o,3,3)})]})})};var b=o(80426),x=o(10217);const C=({onCancel:e,onSuccess:n,connector:o,expectedAddress:l})=>{var s;const{t:r}=(0,y.Bd)(),{theme:{theme:d}}=(0,v.wR)(),{name:_}=d,[h,w]=(0,c.useState)(),[g,p]=(0,c.useState)();return(0,b.v)((()=>(0,t.s)(void 0,void 0,void 0,(function*(){const i=yield o.getAddress({onDesktopUri:e=>(0,t.s)(void 0,void 0,void 0,(function*(){p(e)})),onDisplayUri:e=>(0,t.s)(void 0,void 0,void 0,(function*(){w(e)}))});i&&(0,a.Lb)(i,l,o.connectedChain)?n():(o.endSession(),e())}))),{deps:[o],retries:3}),(0,i.jsx)(m.B,{dataTestId:"reconnect-qr-code",title:r("dyn_sync_wallet.reconnect_with_qr_code.title"),onClose:e,children:h&&(0,i.jsx)(x.A,{uri:h,desktopUri:g,accentColor:"dark"===_?d.colors.textPrimary:null!==(s=o.metadata.brandColor)&&void 0!==s?s:"",icon:(0,i.jsx)(u.lc,{icon:o.metadata.icon,walletKey:o.key}),showCopyToClipboardButton:!0,walletConnector:o})})};var k=o(89809),f=o(61485);const j=({onCancel:e,onSuccess:n,connector:o,expectedAddress:l})=>{const{t:s}=(0,y.Bd)(),{user:r}=(0,k.J)();return(0,b.v)((()=>(0,t.s)(void 0,void 0,void 0,(function*(){(0,a.eL)(o)&&(yield(0,f.M)(r,o,l,o.connectedChain),n())}))),{deps:[o]}),(0,i.jsx)(m.B,{dataTestId:"auto-reconnecting",icon:(0,i.jsx)(u.lc,{icon:o.metadata.icon,walletKey:o.key}),title:s("dyn_sync_wallet.reconnecting.title"),onClose:e,children:(0,i.jsx)(w.o,{variant:"body_normal",color:"secondary",weight:"regular",children:s("dyn_sync_wallet.reconnecting.description",{walletAddress:(0,h.F)(l,3,3)})})})},N=({onSuccess:e,onError:n,expectedAddress:o,activeAddress:c,connector:u})=>{const v=u.canConnectViaQrCode&&!u.isInstalledOnBrowser()&&!u.canConnectViaCustodialService;d.v.logVerboseTroubleshootingMessage("[SyncWallet]",{canConnectViaCustodialService:u.canConnectViaCustodialService,canConnectViaQrCode:u.canConnectViaQrCode,isEmbeddedWallet:u.isEmbeddedWallet,isInstalledOnBrowser:u.isInstalledOnBrowser()}),(0,r.k)(u,"accountChange",(({accounts:n})=>{d.v.logVerboseTroubleshootingMessage("[SyncWallet] accountChange",{accounts:n,expectedAddress:o});const[t]=n;(0,a.Lb)(t,o,u.connectedChain)&&e(!0)})),(0,s.h)("logout",(()=>n(new Error("user logged out"),!0)));const y=()=>{d.v.logVerboseTroubleshootingMessage("[SyncWallet] handleCancel called"),n(new l.ii("User cancelled","0"),!0)};return u.isEmbeddedWallet?(0,i.jsx)("div",{className:"sync-wallet-view","data-testid":"sync-wallet",children:(0,i.jsx)(j,{connector:u,expectedAddress:o,onCancel:y,onSuccess:()=>e(!0)})}):v?(0,i.jsx)("div",{className:"sync-wallet-view","data-testid":"sync-wallet",children:(0,i.jsx)(C,{connector:u,expectedAddress:o,onCancel:y,onSuccess:()=>e(!0)})}):(0,i.jsx)("div",{className:"sync-wallet-view","data-testid":"sync-wallet",children:(0,i.jsx)(p,{connector:u,expectedAddress:o,activeAddress:c,onCancel:y,onTryToReconnect:()=>(0,t.s)(void 0,void 0,void 0,(function*(){const n=yield u.getAddress();n&&(0,a.Lb)(n,o,u.connectedChain)&&e(!0)}))})})}}}]);