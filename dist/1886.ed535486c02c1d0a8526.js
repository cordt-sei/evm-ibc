"use strict";(self.webpackChunkibc_transfer_ui=self.webpackChunkibc_transfer_ui||[]).push([[1886],{10640:(e,o,i)=>{i.d(o,{b:()=>y});var t=i(74848),n=i(96540),a=i(95081),s=(i(60445),i(100),i(58080),i(12174),i(29109),i(83650),i(46759),i(69648),i(88393),i(80066),i(91398)),l=i(7374),r=(i(41253),i(95821),i(3418),i(48702),i(10941),i(16219),i(89809)),c=(i(54769),i(60337),i(4402),i(11011),i(40337),i(81285),i(45468),i(99157),i(7116),i(20433),i(83073),i(21029),i(47979),i(63055),i(28765),i(40961),i(20545),i(50574),i(451),i(32708)),d=(i(30593),i(7085),i(87237),i(80607),i(6864),i(29147),i(72366),i(55537),i(65381),i(75705),i(27373),i(44128)),u=(i(58169),i(53006),i(74566),i(85168),i(71092),i(79620),i(22923),i(23121),i(59553),i(78080),i(11012)),m=(i(79903),i(46136)),_=i(36100),p=(i(30261),i(96696),i(95540)),v=(i(44719),i(14624)),h=(i(53454),i(31448),i(95253),i(98592),i(18983),i(21858),i(4623),i(44917),i(94734),i(26490),i(10647),i(26968),i(80622),i(31825),i(71172),i(44432),i(56950),i(43433),i(87583),i(34874));const y=({mutation:e,onSuccess:o,onError:i,closeView:y=!0})=>{const{setShowAuthFlow:g}=(0,r.J)(),[b,w]=(0,n.useState)(""),[f,x]=(0,n.useState)("password"),{t:j}=(0,a.Bd)(),{mutate:k,isLoading:S,hasError:N}=(0,c.n)((()=>e(b)),{onFailure:i,onSuccess:()=>{y&&g(!1),null==o||o(b)}}),C=N?j("dyn_enter_password.error.invalid_password"):void 0,I=(0,t.jsx)(u.K,{onClick:()=>{i?null==i||i(j("dyn_enter_password.error.invalid_password")):g(!1)},type:"button",children:(0,t.jsx)(s.h,{})}),E=(0,t.jsx)(h.d,{initialState:"password"===f,onClick:e=>x(e?"password":"text"),className:"enter-password-view__password-input__suffix-icon"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.r,{trailing:I,children:(0,t.jsx)(d.o,{as:"h1",variant:"title",color:"primary",className:"header__typography",copykey:"dyn_enter_password.title",children:j("dyn_enter_password.title")})}),(0,t.jsx)("div",{className:"enter-password-view",children:(0,t.jsxs)("form",{className:"enter-password-view__body",onSubmit:e=>{e.preventDefault(),k()},children:[(0,t.jsx)("div",{className:"enter-password-view__body__icon",children:(0,t.jsx)(l.h,{})}),(0,t.jsx)("div",{className:"enter-password-view__body__description",children:(0,t.jsx)(d.o,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_enter_password.description",children:j("dyn_enter_password.description")})}),Boolean(C)&&(0,t.jsx)(m.O,{copykey:"dyn_enter_password.error",children:C}),(0,t.jsx)("div",{children:(0,t.jsx)(v.p,{id:"password",placeholder:j("dyn_enter_password.input.placeholder"),type:f,suffix:E,label:j("dyn_enter_password.input.label"),value:b,onChange:e=>{const o=e.target.value;w(o)},copykey:"dyn_enter_password.input"})}),(0,t.jsx)(_.E,{buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},disabled:!b&&!C,loading:S,copykey:"dyn_enter_password.continue_button_label",type:"submit",children:j("dyn_enter_password.continue_button_label")})]})})]})}},83502:(e,o,i)=>{i.d(o,{H:()=>r});var t=i(74848),n=i(88393),a=(i(60445),i(100),i(58080),i(96540),i(12174),i(29109),i(83650),i(46759),i(69648),i(80066),i(41253),i(95821),i(3418),i(48702),i(10941),i(16219),i(54769),i(60337),i(4402),i(11011),i(40337),i(81285),i(45468),i(99157),i(7116),i(20433),i(83073),i(21029),i(47979),i(63055),i(28765),i(40961),i(20545),i(69304)),s=(i(451),i(30593),i(7085),i(87237),i(80607),i(6864),i(29147),i(72366),i(55537),i(65381),i(75705),i(27373),i(95081),i(58169),i(53006),i(74566),i(85168),i(71092),i(79620),i(22923),i(23121),i(59553),i(50574)),l=(i(78080),i(11012),i(79903),i(30261),i(96696),i(44719),i(14624),i(53454),i(31448),i(95253),i(98592),i(18983),i(21858),i(4623),i(44917),i(94734),i(26490),i(10647),i(26968),i(80622),i(31825),i(71172),i(44432),i(56950),i(43433),i(87583),i(10217));const r=({url:e})=>{const{theme:{theme:o}}=(0,s.wR)(),i=(0,a.D)(),r=(0,t.jsx)(n.b6,{name:"farcaster",variant:i});return(0,t.jsx)(l.A,{uri:e,accentColor:"dark"===i?o.colors.textPrimary:"#7b65c0",icon:r,showCopyToClipboardButton:!0})}},33600:(e,o,i)=>{i.d(o,{S:()=>r});var t=i(74848),n=i(96540),a=i(95081),s=(i(60445),i(100),i(58080),i(12174),i(29109),i(83650),i(46759),i(69648),i(88393),i(80066),i(41253),i(95821),i(3418),i(48702),i(10941),i(16219),i(54769),i(60337),i(4402),i(11011),i(40337),i(81285),i(45468),i(99157),i(7116),i(20433),i(83073),i(21029),i(47979),i(63055),i(28765),i(40961),i(20545),i(50574),i(451),i(30593),i(7085),i(87237),i(80607),i(6864),i(29147),i(72366),i(55537),i(65381),i(75705),i(27373),i(44128)),l=(i(58169),i(53006),i(74566),i(85168),i(71092),i(79620),i(22923),i(23121),i(59553),i(78080),i(11012),i(79903),i(36100));i(30261),i(96696),i(44719),i(14624),i(53454),i(31448),i(95253),i(98592),i(18983),i(21858),i(4623),i(44917),i(94734),i(26490),i(10647),i(26968),i(80622),i(31825),i(71172),i(44432),i(56950),i(43433),i(87583);const r=({pairingInfo:e,onConfirm:o,onCancel:i})=>{const{t:r}=(0,a.Bd)(),[c,d]=(0,n.useState)(!1);return(0,t.jsx)("div",{className:"global-wallet-confirm",children:(0,t.jsx)("div",{className:"popup-content",children:(0,t.jsxs)("div",{className:"wallet-connection-view",children:[!c&&(0,t.jsx)("img",{src:e.icons[0],alt:`${e.name} icon`,className:"dapp-icon",onError:()=>{d(!0)}}),(0,t.jsx)(s.o,{className:"connection-title",variant:"title",font:"bold",children:r("global_wallet.confirm.description",{name:e.name})}),(0,t.jsx)(s.o,{variant:"body_normal",className:"dapp-url",children:e.url}),(0,t.jsxs)("div",{className:"button-group",children:[(0,t.jsx)(l.E,{buttonClassName:"cancel-button",onClick:i,type:"submit",buttonPadding:"large",children:r("global_wallet.confirm.cancel_button")}),(0,t.jsx)(l.E,{buttonClassName:"connect-global-button",onClick:o,type:"submit",buttonPadding:"large",typographyProps:{color:"white"},children:r("global_wallet.confirm.connect_button")})]})]})})})}},29760:(e,o,i)=>{i.d(o,{Q:()=>c});var t=i(74848),n=i(95081),a=i(44128),s=(i(46759),i(69648),i(88393),i(80066),i(96540),i(99452)),l=i(97233);i(41253),i(95821),i(60445),i(3418),i(48702),i(10941),i(16219);const r=({children:e})=>(0,t.jsx)(a.o,{variant:"body_small",weight:"regular",color:"secondary",children:(0,t.jsx)("span",{className:"inline-icon-text",children:e})}),c=()=>{const{t:e}=(0,n.Bd)();return(0,t.jsx)("div",{className:"info-card",children:(0,t.jsxs)("div",{className:"wrapper",children:[(0,t.jsx)(a.o,{variant:"body_small",weight:"bold",color:"primary",as:"h2",children:"How do I find the URI or QR code?"}),(0,t.jsx)(a.o,{variant:"body_small",weight:"regular",color:"secondary",children:e("global_wallet.help.step.1")}),(0,t.jsx)(a.o,{variant:"body_small",weight:"regular",color:"secondary",children:e("global_wallet.help.step.2")}),(0,t.jsxs)(r,{children:["3. Open"," ",(0,t.jsxs)("span",{className:"nowrap",children:["WalletConnect ",(0,t.jsx)(s.h,{})]}),"from the list, this should show a QR code to scan"]}),(0,t.jsxs)(r,{children:["4. If you are not using the QR code, locate and click",(0,t.jsxs)("span",{className:"nowrap",children:[(0,t.jsx)(l.h,{})," to copy"]})," ","the URI code"]})]})})}},84244:(e,o,i)=>{i.d(o,{K:()=>p});var t=i(74848),n=i(95081),a=(i(46759),i(69648),i(88393),i(80066),i(96540),i(63648)),s=i(43108),l=i(21127),r=(i(41253),i(40009)),c=i(51472),d=(i(95821),i(60445),i(3418),i(48702),i(10941),i(16219),i(78080)),u=(i(100),i(58080),i(12174),i(29109),i(83650),i(89809)),m=(i(54769),i(60337),i(4402),i(11011),i(40337),i(81285),i(45468),i(99157),i(7116),i(20433),i(83073),i(21029),i(47979),i(63055),i(28765),i(40961),i(20545),i(50574),i(451),i(30593),i(7085),i(87237),i(80607),i(6864),i(29147),i(72366),i(55537),i(65381),i(75705),i(27373),i(44128)),_=(i(58169),i(53006),i(74566),i(85168),i(71092),i(79620),i(22923),i(23121),i(59553),i(11012),i(79903),i(36100));i(30261),i(96696),i(44719),i(14624),i(53454),i(31448),i(95253),i(98592),i(18983),i(21858),i(4623),i(44917),i(94734),i(26490),i(10647),i(26968),i(80622),i(31825),i(71172),i(44432),i(56950),i(43433),i(87583);const p=({maliciousSiteInfo:e})=>{const{t:o}=(0,n.Bd)(),{setDynamicWidgetView:i}=(0,d.pJ)(),{setShowAuthFlow:p}=(0,u.J)();return(0,t.jsx)("div",{className:"malicious-site-view",children:(0,t.jsx)("div",{className:"popup-content",children:(0,t.jsxs)("div",{className:"wallet-connection-view",children:[(0,t.jsxs)("div",{className:"warning-icon-container",style:{position:"relative"},children:[e.isDefinitelyMalicious?(0,t.jsx)(c.h,{className:"warning-icon"}):(0,t.jsx)(r.h,{className:"warning-icon"}),(0,t.jsx)(l.h,{className:"exclamation-icon",style:{left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"}})]}),(0,t.jsx)(m.o,{className:"connection-title",variant:"title",font:"bold",color:"primary",children:e.isDefinitelyMalicious?o("global_wallet.malicious_site.certain.title"):o("global_wallet.malicious_site.unknown.title")}),(0,t.jsxs)("div",{className:"subtitle-container "+(e.isDefinitelyMalicious?"definitely-malicious":"unknown"),children:[(0,t.jsxs)("div",{className:"subtitle-header-container",children:[e.isDefinitelyMalicious?(0,t.jsx)(s.h,{className:"caution-icon"}):(0,t.jsx)(a.h,{className:"caution-icon"}),(0,t.jsx)(m.o,{variant:"body_normal",className:"subtitle-header",color:"primary",children:e.isDefinitelyMalicious?o("global_wallet.malicious_site.certain.subtitle_header"):o("global_wallet.malicious_site.unknown.subtitle_header")})]}),(0,t.jsx)(m.o,{variant:"body_normal",className:"subtitle",color:"secondary",children:e.isDefinitelyMalicious?o("global_wallet.malicious_site.certain.subtitle_text"):o("global_wallet.malicious_site.unknown.subtitle_text")})]}),(0,t.jsx)(m.o,{variant:"body_normal",className:"site-info",color:"secondary",children:e.url}),(0,t.jsxs)("div",{className:"button-group",children:[(0,t.jsx)(_.E,{buttonClassName:"cancel-button",buttonVariant:"primary",type:"submit",buttonPadding:"large",onClick:()=>{i("global-wallet"),p(!1,{ignoreIfIsEmbeddedWidget:!1,performMultiWalletChecks:!1})},copykey:"global_wallet.malicious_site.go_back",children:e.isDefinitelyMalicious?o("global_wallet.malicious_site.certain.go_back"):o("global_wallet.malicious_site.unknown.go_back")}),(0,t.jsx)(_.E,{buttonClassName:"proceed-button",buttonVariant:"secondary",type:"submit",buttonPadding:"large",onClick:()=>{var o;null===(o=e.proceedFlow)||void 0===o||o.call(e)},copykey:"global_wallet.malicious_site.proceed",typographyProps:{color:"error-1"},children:e.isDefinitelyMalicious?o("global_wallet.malicious_site.certain.proceed"):o("global_wallet.malicious_site.unknown.proceed")})]})]})})})}},66925:(e,o,i)=>{i.d(o,{r:()=>we});var t=i(74848),n=i(96540),a=i(46759),s=i(60445),l=i(46136),r=i(60337),c=i(22923),d=i(41253),u=i(3136),m=i(90054),_=i(26480),p=i(9778),v=i(83502),h=i(65050),y=i(40337);const g=()=>{const{setError:e}=(0,r.pu)(),[o,i]=(0,n.useState)(void 0),s=(0,n.useRef)(!1),l=(0,y.dD)(),{connectSocialAccount:c}=(0,h.f)({onError:()=>e("Something went wrong"),onFarcasterUrl:e=>i(e)});return(0,n.useEffect)((()=>{!s.current&&l&&(s.current=!0,c({authMode:"signin",provider:a.bph.Farcaster}))}),[c,l]),(0,t.jsx)(v.H,{url:null!=o?o:""})};var b=i(26261),w=i(95081),f=(i(100),i(58080),i(12174)),x=i(29109),j=(i(83650),i(69648)),k=(i(88393),i(80066),i(95821),i(3418),i(48702),i(10941),i(16219),i(54769)),S=(i(4402),i(11011)),N=(i(81285),i(45468),i(99157),i(7116),i(20433),i(83073),i(21029),i(47979),i(63055)),C=i(28765),I=(i(40961),i(20545),i(50574),i(451),i(30593),i(7085)),E=(i(87237),i(80607),i(6864),i(29147),i(72366)),P=(i(55537),i(65381),i(75705),i(27373)),W=i(44128),D=(i(58169),i(53006),i(74566),i(85168),i(71092),i(79620),i(23121),i(59553),i(50984)),F=(i(78080),i(11012),i(79903),i(30261),i(96696),i(44719),i(14624),i(53454),i(31448),i(95253),i(98592),i(18983),i(21858),i(4623),i(8158)),T=(i(26490),i(10647),i(44917),i(94734),i(89809)),L=i(45617),O=i(19205),V=i(20777),A=i(30565),B=i(39165),M=i(36100),K=i(52957),H=i(85743),U=(i(71172),i(44432),i(26968),i(56950),i(43433),i(87583),i(71366));i(80622),i(31825);var $=i(92960),J=i(19883);const R=({isLoading:e,onSubmit:o,onSubmitError:i})=>{var a,l;const{projectSettings:r}=(0,T.J)(),c=(0,n.useMemo)((()=>{const e=(0,A.z)(r);return(0,V.G)((0,B.W)(e))}),[r]),[u,m]=(0,n.useState)(void 0),[_,p]=(0,n.useState)(!1),[v,h]=(0,n.useState)({country:void 0,phone:""}),y=(0,n.useCallback)((e=>{h(e),p((0,O.x)(e.phone,e.country))}),[]),[g,b]=(0,n.useState)(!1),[N,I]=(0,n.useState)(!1),P=(({onSubmit:e,onSubmitError:o,country:i,phone:t,setInvalidNumberMessage:n})=>{const{engageCaptcha:a}=(0,k.Tr)(),{view:l,setView:r}=(0,d.At)(),{environmentId:c,projectSettings:u}=(0,T.J)(),{setDisplayedDestination:m,setVerificationUUID:_,setRetryData:p}=(0,C.vm)(),{fieldsConfig:v}=(0,E.t)(),{t:h}=(0,w.Bd)(),y=a=>(0,x.s)(void 0,void 0,void 0,(function*(){if(i)try{const o=(0,S.yT)({dialCode:i.dialCode,phone:t}),{verificationUUID:n}=yield(0,H.LF)({captchaToken:a,environmentId:c,isoCountryCode:i.iso2,phoneCountryCode:i.dialCode,phoneNumber:o});p({dialCode:i.dialCode,iso2:i.iso2,phone:o}),r("login-with-sms-verification"),m((0,K.q)(t)),_(n);const s={dialCode:i.dialCode,iso2:i.iso2,phone:o};f.zm.emit("authInit",{option:s,phone:s,type:"sms"}),null==e||e()}catch(e){if(r(l.type),e instanceof s.de){let o=h("dyn_login.helper.phone_number_form.invalid_phone");"too_many_sms_verification_attempts"===e.code&&(o=h("dyn_login.helper.phone_number_form.too_many_sms_verification_attempts")),e.code&&e.code in U.w.dyn_login.helper.phone_number_form&&(o=h("dyn_login.helper.phone_number_form."+e.code)),n(o)}else"string"==typeof e&&n(e);null==o||o()}}));return e=>(0,x.s)(void 0,void 0,void 0,(function*(){var s;if(i){e.preventDefault();try{v.phoneNumber.validation.validateSync(t)}catch(e){const{message:i}=e;return n(i),void(null==o||o())}(null===(s=null==u?void 0:u.security.hCaptcha)||void 0===s?void 0:s.enabled)?a({authMethod:"phone",onCaptchaSuccess:y}):y()}}))})({country:v.country,onSubmit:o,onSubmitError:i,phone:v.phone,setInvalidNumberMessage:m});if(!(0,L.Q)(null!==(a=null==r?void 0:r.providers)&&void 0!==a?a:[]))return j.v.error("Failed to render PhoneNumberSignInSection - no sign in provider enabled"),null;const W=!(null===(l=null==r?void 0:r.design.modal)||void 0===l?void 0:l.emailSubmitButtonInsideInput);return(0,t.jsxs)("form",{className:"login-with-phone-number-form",onSubmit:e=>P(e),children:[(0,t.jsx)(J.w,{countries:c,onUpdate:y,error:u,setIsHovered:b,setIsFocused:I,appendRight:(0,t.jsx)($.W,{disabled:e||!_,highlighted:_,isFocused:N,isHovered:g,className:"login-with-phone-number-form__fields__inline-submit",emailSubmitButtonInsideInput:!W})}),W&&(0,t.jsx)(M.E,{dataTestId:"big-submit-button",buttonClassName:"login-with-phone-number-form__button",type:"submit",loading:e,disabled:e||!_,buttonVariant:"brand-primary",buttonPadding:"login-screen-height",expanded:!0,typographyProps:{color:"inherit"},children:"Continue"})]})};var Q=i(48045),z=i(89741),q=i(32708),G=i(9192);const Z=({defaultProvider:e,numOfItemsToDisplay:o,collapsedLayout:i})=>{const{projectSettings:n}=(0,T.J)(),{socialProvider:a,setSocialProvider:s,socialWalletConnector:l,enabledSocialProviders:r}=(0,c.ki)(),{engageCaptcha:d}=(0,k.Tr)(),{mutate:u,isLoading:m}=(0,q.n)((e=>(0,x.s)(void 0,void 0,void 0,(function*(){var o;if(!(null===(o=null==n?void 0:n.security.hCaptcha)||void 0===o?void 0:o.enabled))return s(e),yield null==l?void 0:l.endSession(),null==l?void 0:l.connect(e);d({authMethod:"social",onCaptchaSuccess:o=>(0,x.s)(void 0,void 0,void 0,(function*(){return s(e),yield null==l?void 0:l.endSession(),null==l?void 0:l.connect(e)}))})}))));return(0,t.jsx)(G.Q,{onSelectProvider:u,providers:r,selectedProvider:a,isLoading:m,testId:"magic-social-sign-in",defaultProvider:e,numOfItemsToDisplay:o,collapsedLayout:i})};var X=i(51133);const Y=({defaultProvider:e,numOfItemsToDisplay:o,collapsedLayout:i})=>{const{setShowAuthFlow:n,projectSettings:a}=(0,T.J)(),{setSocialProvider:s,socialProvider:l,enabledSocialProviders:r}=(0,c.ki)(),{setView:u,goToInitialView:m}=(0,d.At)(),{engageCaptcha:_}=(0,k.Tr)(),{isProcessing:p,connectSocialAccount:v}=(0,h.f)({onError:()=>{m()},onFarcasterUrl:e=>u("farcaster-connect-view",{url:e}),onSettled:()=>{s(void 0)}});return(0,t.jsx)(G.Q,{onSelectProvider:e=>{var o;const i=(0,X.i)(e);s(e),(null===(o=null==a?void 0:a.security.hCaptcha)||void 0===o?void 0:o.enabled)?_({authMethod:"social",onCaptchaSuccess:e=>(0,x.s)(void 0,void 0,void 0,(function*(){u("social-redirect-view"),n(!0),v({authMode:"signin",captchaToken:e,provider:i})}))}):(u("social-redirect-view"),n(!0),v({authMode:"signin",provider:i}))},providers:r,selectedProvider:l,isLoading:p,testId:"dynamic-social-sign-in",defaultProvider:e,numOfItemsToDisplay:o,collapsedLayout:i})},ee=({sectionData:e,collapsedLayout:o})=>{var i,n,s;const{projectSettings:l}=(0,T.J)(),r=null!==(i=null==l?void 0:l.providers)&&void 0!==i?i:[],c={collapsedLayout:o,defaultProvider:(0,Q.I)(e.defaultItem),numOfItemsToDisplay:e.numOfItemsToDisplay};return(0,z.L)(r,a.bph.MagicLink)&&(null===(n=null==l?void 0:l.sdk.socialSignIn)||void 0===n?void 0:n.signInProvider)===a.PCu.MagicLink?(0,t.jsx)(Z,Object.assign({},c)):(null===(s=null==l?void 0:l.sdk.socialSignIn)||void 0===s?void 0:s.signInProvider)===a.PCu.Dynamic?(0,t.jsx)(Y,Object.assign({},c)):(j.v.error("Failed to render SocialSignInSection - no sign in provider enabled"),null)},oe=({sections:e})=>{const[o,i]=(0,n.useState)(!0),a=o?e[0]:e[1];return(0,t.jsxs)("div",{className:"toggleable-section",children:[a.component,(0,t.jsxs)("div",{className:"toggleable-section__toggle-prompt",children:[(0,t.jsx)(W.o,{color:"secondary",variant:"body_small",copykey:a.labelCopyKey,children:a.label}),(0,t.jsx)("button",{className:"toggleable-section__toggle-prompt__button",onClick:()=>i(!o),children:(0,t.jsx)(W.o,{weight:"medium",variant:"body_small",color:"brand-primary",className:"toggleable-section__toggle-prompt__button__text",copykey:a.buttonCopyKey,children:a.button})})]})]})};var ie=i(33016),te=i(53968),ne=i(45272),ae=i(56800),se=i(87300),le=i(17632),re=i(34190),ce=i(82544);const de=({text:e,onClick:o,numberOfWallets:i,disabled:a=!1,copykey:s})=>{const l=(0,n.useMemo)((()=>i<=10?i:10*Math.floor(i/10)+"+"),[i]),r=(0,t.jsxs)("div",{className:"list-item-button__trailing",children:[(0,t.jsx)("div",{className:(0,m.x)("list-item-button__trailing-child","list-item-button__trailing-label"),children:(0,t.jsx)(ce.E,{text:`${l} available`})}),(0,t.jsx)("div",{className:(0,m.x)("list-item-button__trailing-child","list-item-button__trailing-icon"),children:(0,t.jsx)(le.I,{color:"text-primary",size:"small",children:(0,t.jsx)(se.h,{})})})]});return(0,t.jsx)(re.F,{trailing:r,onClick:o,className:"list-item-button",disabled:a,copykey:s,children:e})},ue=({previewWalletsNumber:e,disabled:o=!1,onshowAllWallets:i})=>{var n;const{t:a}=(0,w.Bd)(),{walletConnectorOptions:l,projectSettings:r,walletsFilter:c,authMode:d,multiWallet:u,recommendedWallets:m}=(0,T.J)(),_=(0,N.zy)(),v=(0,P.HZ)(),{handleWalletItemClick:h}=(0,p.f)(),{numberOfWallets:y,walletsList:g}=(0,ne.N7)({authMode:d,groupWallets:!0,inputList:l,isWalletConnectList:!1,lastUsedWalletKey:null!==(n=s.n$.getItem(te.$1))&&void 0!==n?n:void 0,loginWithEmail:!0,multiWallet:u,numberOfWalletsToShow:e,recommendedWallets:m,searchFilter:void 0,userWallets:_,walletGroups:v,walletsFilter:c});return r?(0,t.jsxs)("div",{className:"login-with-email-wallet-list__container","data-testid":"top-wallets-list",children:[g.map(((e,i)=>(0,t.jsx)(ae.F,{wallet:e,disabled:o,onSelectWallet:h,recommendedWallets:m},`${e.key}_${i}`))),(0,t.jsx)(de,{copykey:"dyn_wallet_list.view_all",text:a("dyn_wallet_list.view_all"),onClick:i,numberOfWallets:y,disabled:o})]}):(0,t.jsx)(ie.E,{count:e+1,className:"login-with-email-wallet-list__skeleton"})};var me=i(5020);const _e=({numberOfItemsToShow:e,isLoading:o,onSubmit:i})=>{const{t:n}=(0,w.Bd)();return e>0?(0,t.jsx)(ue,{previewWalletsNumber:e,onshowAllWallets:()=>null==i?void 0:i(),disabled:o}):(0,t.jsx)(me.u,{onClick:()=>null==i?void 0:i(),disabled:o,className:"connect-with-wallet-button",children:(0,t.jsx)(W.o,{variant:"button_primary",copykey:"dyn_login.wallet_list.button_only",children:n("dyn_login.wallet_list.button_only")})})},pe=({viewSection:e,index:o,walletCount:i,gotToWalletList:s})=>{const{loading:l}=(0,I.nk)(),{t:r}=(0,w.Bd)(),{setView:c}=(0,d.At)(),[u,m]=(0,n.useState)(l);switch(e.type){case a.vHy.Separator:return(0,t.jsx)(D.c,{text:e.label});case a.vHy.Email:return(0,t.jsx)(F.q,{onSubmit:()=>m(!0),onSubmitError:()=>m(!1),isLoading:u});case a.vHy.Phone:return(0,t.jsx)(R,{onSubmit:()=>m(!0),onSubmitError:()=>m(!1),isLoading:u});case a.vHy.EmailAndPhone:const o=[{button:r("dyn_login.email_or_phone.use_phone"),buttonCopyKey:"dyn_login.email_or_phone.use_phone",component:(0,t.jsx)(F.q,{onSubmit:()=>m(!0),onSubmitError:()=>m(!1),isLoading:u}),label:r("dyn_login.email_or_phone.prefer_phone"),labelCopyKey:"dyn_login.email_or_phone.prefer_phone"},{button:r("dyn_login.email_or_phone.use_email"),buttonCopyKey:"dyn_login.email_or_phone.use_email",component:(0,t.jsx)(R,{onSubmit:()=>m(!0),onSubmitError:()=>m(!1),isLoading:u}),label:r("dyn_login.email_or_phone.prefer_email"),labelCopyKey:"dyn_login.email_or_phone.prefer_email"}];return"phone"===e.defaultItem&&o.reverse(),(0,t.jsx)(oe,{sections:o});case a.vHy.Wallet:return(0,t.jsx)(_e,{numberOfItemsToShow:e.numOfItemsToDisplay||0,onSubmit:()=>{c("login-with-email-or-wallet-full-wallet-list"),s()},isLoading:u});case a.vHy.Social:return(0,t.jsx)(ee,{collapsedLayout:i>1,sectionData:e});case a.vHy.Text:return e.label?(0,t.jsx)(W.o,{variant:"body_normal",color:"secondary",align:e.alignment,className:"login-view__text","data-testid":"login-view-section__text",children:e.label}):null}};var ve=i(27439);const he=e=>({numOfItemsToDisplay:e,type:a.vHy.Wallet}),ye=(e,o)=>({defaultItem:o,numOfItemsToDisplay:e,type:a.vHy.Social}),ge=e=>({type:e});var be=i(63192);const we=()=>{var e;const{error:o}=(0,r.pu)(),{setView:i}=(0,d.At)(),{isWalletOnly:v,loginViewSections:h}=(()=>{const e=(0,be.q)(a.Aa3.Login),{projectSettings:o,authorizationViewDisplayOrder:i,loginWithEmail:t,walletConnectorOptions:s,walletsFilter:l}=(0,T.J)(),{t:r}=(0,w.Bd)(),{enabledSocialProviders:d}=(0,c.ki)(),u=Boolean(null==d?void 0:d.length),m=(0,ve.V)(null==o?void 0:o.providers),_=(0,L.Q)(null==o?void 0:o.providers),p=(l?l(s):s).filter((({key:e})=>"turnkey"!==e)),v=(0,n.useMemo)((()=>{var i;return!(!o||(t||_||u)&&((null===(i=null==e?void 0:e.sections)||void 0===i?void 0:i.length)?1!==e.sections.length||"wallet"!==e.sections[0].type:m||_||u))}),[null==e?void 0:e.sections,o,t,u,_,m]),h=(0,n.useCallback)((e=>{var i;return!(null===(i=null==o?void 0:o.chains)||void 0===i?void 0:i.some((e=>e.enabled&&(e=>{var o;return null===(o=e.networks)||void 0===o?void 0:o.some((e=>e.enabled))})(e))))&&e.find((e=>"wallet"===e.type))&&j.v.error("Failed to render WalletSignInSection - no chains enabled"),(null==p?void 0:p.length)?e:e.filter((e=>"wallet"!==e.type))}),[null==p?void 0:p.length,null==o?void 0:o.chains]);return{isWalletOnly:v,loginViewSections:(0,n.useMemo)((()=>{var t,n,s,l,c,u;if(null===(t=null==e?void 0:e.sections)||void 0===t?void 0:t.length)return h(null==e?void 0:e.sections);const{splitEmailAndSocial:v=!1,socialAboveEmail:y=!1}=null!==(n=null==o?void 0:o.design.modal)&&void 0!==n?n:{},g=[],b=(({socialAboveEmail:e,showWallets:o,web3Layout:i,numOfWalletsToDisplay:t,showEmail:n,showPhone:s,showSocial:l,splitEmailAndSocial:r,defaultSocialItem:c})=>{const d=!r&&(n||s),u=r?c:void 0;return[{condition:o&&i,section:he(t)},{condition:l&&e,hideSeparator:d?"below":void 0,section:ye(5,u)},{condition:n&&!s,section:ge(a.vHy.Email)},{condition:!n&&s,section:ge(a.vHy.Phone)},{condition:n&&s,section:ge(a.vHy.EmailAndPhone)},{condition:l&&!e,hideSeparator:d?"above":void 0,section:ye(5,u)},{condition:o&&!i,section:he(t)}]})({defaultSocialItem:d[0],numOfWalletsToDisplay:(null===(l=null===(s=null==o?void 0:o.design)||void 0===s?void 0:s.modal)||void 0===l?void 0:l.showWalletsButton)?0:3,showEmail:m,showPhone:_,showSocial:Boolean(null==d?void 0:d.length),showWallets:Boolean(null==p?void 0:p.length)&&!(null===(u=null===(c=null==o?void 0:o.design)||void 0===c?void 0:c.modal)||void 0===u?void 0:u.emailOnly),socialAboveEmail:y,splitEmailAndSocial:v,web3Layout:"web3"===i}),w={label:r("dyn_login.separators.default"),type:a.vHy.Separator};let f=!1;for(const e of b)e.condition&&(g.length>0&&!f&&"above"!==e.hideSeparator&&g.push(w),g.push(e.section),f="below"===e.hideSeparator);return g}),[i,d,h,m,_,null==e?void 0:e.sections,null==o?void 0:o.design.modal,null==p?void 0:p.length,r])}})(),{enabledSocialProviders:y}=(0,c.ki)(),{showDefaultFooter:f}=(0,_.h)(),{handleWalletItemClick:x}=(0,p.f)(),k=(null===(e=h.find((e=>e.type===a.vHy.Wallet)))||void 0===e?void 0:e.numOfItemsToDisplay)||0,S=(0,n.useMemo)((()=>h.map(((e,o)=>(0,t.jsx)("div",{className:(0,m.x)("login-view__scroll__section",`login-view__scroll__section--${e.type}`),children:(0,t.jsx)(pe,{gotToWalletList:()=>i("login-with-email-or-wallet-full-wallet-list"),index:o,viewSection:e,walletCount:k})},`${e.type}__${o}`)))),[h,k]),N=o&&(0,t.jsx)(l.O,{className:"login-view__error-container",withIcon:!1,children:o});if(((e,o)=>1===e.length&&e[0].type===a.vHy.Social&&1===o.length&&o.includes(a.Gg2.Farcaster)&&!(0,s.Fr)())(h,y))return(0,t.jsxs)(t.Fragment,{children:[N,(0,t.jsx)(g,{})]});if(v)return(0,t.jsx)(b.I,{onSelectWallet:x});const C=(0,s.Fr)()&&f;return(0,t.jsxs)(t.Fragment,{children:[N,(0,t.jsx)("div",{className:(0,m.x)("login-view__container",{"login-view__container--error":Boolean(o)}),children:(0,t.jsx)("div",{className:"login-view__scroll","data-testid":"login-view-scroll",children:S})}),C&&(0,t.jsx)(u.V,{hideBorder:!0})]})}},8158:(e,o,i)=>{i.d(o,{q:()=>p});var t=i(29109),n=i(74848),a=i(96540),s=(i(60445),i(100),i(58080),i(12174),i(83650),i(46759),i(69648)),l=(i(88393),i(80066),i(41253)),r=(i(95821),i(3418),i(48702),i(10941),i(16219),i(89809)),c=(i(54769),i(60337)),d=(i(4402),i(11011),i(40337),i(27439)),u=(i(81285),i(45468),i(99157),i(7116),i(20433),i(83073),i(21029),i(47979),i(63055),i(28765)),m=(i(40961),i(20545),i(50574),i(451),i(30593),i(7085),i(87237),i(80607),i(6864),i(29147),i(72366),i(55537),i(65381),i(75705),i(27373),i(95081),i(58169),i(53006),i(74566),i(85168),i(71092),i(79620),i(22923),i(23121),i(59553),i(78080),i(11012),i(79903),i(30261),i(96696),i(44719),i(14624),i(53454),i(31448),i(95253),i(98592),i(18983),i(21858),i(4623),i(16446)),_=(i(26490),i(10647),i(44917),i(94734),i(26968),i(80622),i(31825),i(71172),i(44432),i(56950),i(43433),i(87583),i(82444));const p=({isLoading:e,onSubmit:o,onSubmitError:i,currentEmail:p,className:v,style:h})=>{var y;const{projectSettings:g}=(0,r.J)(),{view:b,setView:w}=(0,l.At)(),{setVerificationUUID:f,setDisplayedDestination:x}=(0,u.vm)(),{setErrorMessage:j}=(0,c.pu)(),[k,S]=(0,a.useState)(!1),{connectWithEmail:N}=(0,m.X)(),C=(0,a.useCallback)((e=>{"Email is not valid"===e.message?S(!0):j(e.message),s.v.debug(e),null==i||i()}),[j,i]),I=(0,a.useCallback)((e=>(0,t.s)(void 0,void 0,void 0,(function*(){null==o||o();try{yield N(e,(()=>{f(void 0),x(e),w("login-with-email-verification")}))}catch(e){C(e),w(b.type)}}))),[N,o,C,w,b,f,x]);return(0,d.V)(null==g?void 0:g.providers)?(0,n.jsx)(_.v,{onSubmit:I,isLoading:e,currentEmail:p,emailSubmitButtonInsideInput:null===(y=null==g?void 0:g.design.modal)||void 0===y?void 0:y.emailSubmitButtonInsideInput,isEmailInvalid:k,className:v,style:h}):(s.v.error("Failed to render EmailSignInSection - no sign in provider enabled"),null)}},26272:(e,o,i)=>{i.d(o,{q:()=>v});var t=i(29109),n=i(74848),a=i(96540),s=i(95081),l=i(46759),r=(i(60445),i(100),i(58080)),c=(i(12174),i(83650),i(69648)),d=(i(88393),i(80066),i(41253),i(95821),i(3418),i(48702),i(24311)),u=(i(10941),i(16219),i(54769),i(60337),i(4402),i(11011),i(40337),i(81285),i(45468),i(99157),i(7116),i(20433),i(83073),i(21029),i(47979),i(63055),i(28765),i(40961),i(20545),i(50574),i(451),i(30593),i(7085),i(87237),i(80607),i(6864),i(29147),i(72366),i(55537),i(65381),i(75705),i(27373),i(44128)),m=(i(58169),i(53006),i(74566),i(85168),i(71092),i(79620),i(22923),i(23121),i(59553),i(78080),i(11012),i(79903),i(36100)),_=(i(30261),i(96696),i(44719),i(14624),i(53454),i(31448),i(95253),i(98592),i(18983),i(21858),i(4623),i(44917),i(94734),i(26490),i(10647),i(26968),i(75818)),p=(i(80622),i(31825),i(71172),i(44432),i(56950),i(43433),i(87583),i(89120));const v=({mergeConflicts:e})=>{const{mergeUserAccounts:o}=(0,_.j)(),{t:i}=(0,s.Bd)(),[v,h]=(0,a.useState)(""),y=(0,a.useRef)(Object.fromEntries(e.map((({field:e,currentUser:o})=>[`${e.name}_${e.type}`,{fieldKey:e.name,type:e.type||l.cc8.Standard,userId:o.userId}]))));if(!(null==e?void 0:e.length))return null;const g=(e,o,i,t)=>{h(""),t&&(y.current[`${e}_${o}`]={fieldKey:e,type:o||l.cc8.Standard,userId:i})};return(0,n.jsxs)("div",{className:"merge-user-accounts-conflicts__container",children:[v&&(0,n.jsx)(r.F,{icon:"error",variant:"error",className:"merge-user-accounts-conflicts__error",children:v}),(0,n.jsx)("div",{className:"merge-user-accounts-conflicts__description",children:(0,n.jsx)(u.o,{variant:"body_normal",weight:"regular",color:"secondary",copykey:"dyn_merge_user_accounts_conflicts.description",children:i("dyn_merge_user_accounts_conflicts.description")})}),(0,n.jsx)("div",{className:"merge-user-accounts-conflicts__fields",children:e.map((({field:e,currentUser:o,fromUser:i})=>{var t;return(0,n.jsxs)("div",{className:"merge-user-accounts-conflicts__fields__item",children:[(0,n.jsx)(u.o,{variant:"body_normal",weight:"regular",color:"secondary",className:"merge-user-accounts-conflicts__fields__item__name",children:null!==(t=e.label)&&void 0!==t?t:(0,d.Z)(e.name)}),(0,n.jsx)(p.a,{name:e.name,value:o.value,checked:!0,className:"merge-user-accounts-conflicts__fields__item__button",onChange:i=>g(e.name,e.type,o.userId,i.target.checked),children:o.value}),(0,n.jsx)(p.a,{name:e.name,value:i.value,className:"merge-user-accounts-conflicts__fields__item__button",onChange:o=>g(e.name,e.type,i.userId,o.target.checked),children:i.value})]},e.name)}))}),(0,n.jsx)("div",{className:"merge-user-accounts-conflicts__buttons",children:(0,n.jsx)(m.E,{className:"merge-user-accounts-conflicts__buttons__button",onClick:()=>(0,t.s)(void 0,void 0,void 0,(function*(){const e=Object.values(y.current).map((({fieldKey:e,type:o,userId:i})=>({fieldKey:e,type:o,userId:i})));try{yield o(e)}catch(e){c.v.error("Error merging user accounts",e),h(i("dyn_merge_user_accounts_conflicts.errors.merge_error"))}})),buttonVariant:"primary",buttonPadding:"large",expanded:!0,copykey:"dyn_merge_user_accounts_conflicts.confirm_button",children:i("dyn_merge_user_accounts_conflicts.confirm_button")})})]})}},72824:(e,o,i)=>{i.d(o,{T:()=>_});var t=i(29109),n=i(74848),a=i(96540),s=i(95081),l=(i(12174),i(60445),i(83650),i(46759),i(69648)),r=(i(88393),i(80066),i(41253)),c=(i(95821),i(3418),i(48702),i(10941),i(16219),i(54769),i(60337),i(4402),i(11011),i(40337),i(81285),i(45468),i(99157),i(7116),i(20433),i(83073),i(21029),i(47979),i(63055),i(28765),i(40961),i(20545),i(50574),i(451),i(30593),i(7085),i(87237),i(80607),i(6864),i(29147),i(72366),i(55537),i(65381),i(75705),i(27373),i(100),i(58080)),d=i(44128),u=(i(53006),i(36100)),m=(i(11012),i(71172),i(14624),i(44432),i(79903),i(53454),i(74566),i(85168),i(71092),i(26968),i(56950),i(43433),i(87583),i(30261),i(96696),i(58169),i(23121),i(4623),i(22923),i(44917),i(94734),i(26490),i(10647),i(78080),i(95253),i(44719),i(79620),i(59553),i(31448),i(98592),i(18983),i(21858),i(75818));i(80622),i(31825);const _=e=>{const{setView:o}=(0,r.At)(),{mergeUserAccounts:i}=(0,m.j)(),{t:_}=(0,s.Bd)(),[p,v]=(0,a.useState)(""),{mergeConflicts:h}=e;return(0,n.jsxs)("div",{className:"merge-user-accounts",children:[p&&(0,n.jsx)(c.F,{icon:"error",variant:"error",className:"merge-user-accounts__error",children:p}),(0,n.jsxs)("div",{className:"merge-user-accounts__container",children:[(0,n.jsx)(d.o,{variant:"body_normal",weight:"regular",color:"secondary",className:"merge-user-accounts__title",copykey:"dyn_merge_user_accounts.wallet.content",children:_("dyn_merge_user_accounts.wallet.content")}),(0,n.jsx)(u.E,{onClick:()=>(0,t.s)(void 0,void 0,void 0,(function*(){if(null==h?void 0:h.conflicts.length)o("merge-user-accounts-conflicts",{mergeConflicts:(null==h?void 0:h.conflicts)||[]},{onBackClick:()=>{o("merge-user-accounts",e)}});else try{yield i([])}catch(e){l.v.error("Error merging user accounts",e),v(_("dyn_merge_user_accounts.errors.merge_error"))}})),buttonClassName:"merge-user-accounts__button",buttonVariant:"brand-primary",buttonPadding:"large",typographyProps:{color:"inherit"},expanded:!0,copykey:"dyn_merge_user_accounts.confirm_button",children:_("dyn_merge_user_accounts.confirm_button")})]})]})}},98246:(e,o,i)=>{i.d(o,{h:()=>f});var t=i(29109),n=i(74848),a=i(95081),s=i(60445),l=i(95821),r=i(88393),c=(i(100),i(58080),i(96540),i(12174),i(83650),i(46759),i(69648),i(80066),i(59202)),d=i(41253),u=i(49795),m=(i(3418),i(48702),i(10941),i(16219),i(89809)),_=(i(54769),i(60337)),p=(i(4402),i(11011),i(96345)),v=(i(40337),i(81285),i(45468),i(99157),i(7116),i(18003)),h=(i(20433),i(83073),i(21029),i(47979),i(63055),i(28765)),y=(i(40961),i(20545),i(50574),i(451),i(30593),i(7085),i(87237),i(80607),i(78816)),g=(i(6864),i(29147),i(72366),i(55537),i(65381),i(75705),i(27373),i(44128)),b=(i(58169),i(53006),i(74566),i(85168),i(71092),i(79620),i(22923),i(23121),i(59553),i(17632)),w=(i(78080),i(11012),i(79903),i(36100));i(30261),i(96696),i(44719),i(14624),i(53454),i(31448),i(95253),i(98592),i(18983),i(21858),i(4623),i(44917),i(94734),i(26490),i(10647),i(26968),i(80622),i(31825),i(71172),i(44432),i(56950),i(43433),i(87583);const f=({returnToView:e})=>{const{environmentId:o,setShowAuthFlow:i,setCallback:f,primaryWallet:x,user:j}=(0,m.J)(),k=(0,y.M)(),{t:S}=(0,a.Bd)(),{setError:N}=(0,_.pu)(),{setView:C,goToInitialView:I}=(0,d.At)(),{displayedDestination:E}=(0,h.vm)();return(0,n.jsxs)("div",{className:"merge-user-accounts-with-same-email__container",children:[(0,n.jsxs)("div",{className:"merge-user-accounts-with-same-email__accounts",children:[(0,n.jsxs)("div",{className:"merge-user-accounts-with-same-email__accounts__item",children:[(0,n.jsx)(l.lc,{icon:null==x?void 0:x.connector.metadata.icon,walletKey:null==x?void 0:x.connector.key,className:"merge-user-accounts-with-same-email__accounts__item__icon"}),(0,n.jsx)(g.o,{variant:"body_normal",weight:"medium",color:"secondary",className:"merge-user-accounts-with-same-email__accounts__item__text",children:(0,u.F)(null==x?void 0:x.address,3,3)})]}),(0,n.jsx)("div",{className:"merge-user-accounts-with-same-email__accounts__divider",children:(0,n.jsx)(b.I,{color:"text-secondary",size:"small",children:(0,n.jsx)(c.h,{})})}),(0,n.jsxs)("div",{className:"merge-user-accounts-with-same-email__accounts__item",children:[(0,n.jsx)(r.Wo,{className:"merge-user-accounts-with-same-email__accounts__item__icon"}),(0,n.jsx)(g.o,{variant:"body_normal",weight:"medium",color:"secondary",className:"merge-user-accounts-with-same-email__accounts__item__text",children:(0,p.E)(E,{breakpoint:4,cutEnd:1,cutStart:2})})]})]}),(0,n.jsx)(g.o,{weight:"regular",variant:"title",className:"merge-user-accounts-with-same-email__text merge-user-accounts-with-same-email__text__header",copykey:"dyn_merge_user_accounts_with_same_email.title",children:S("dyn_merge_user_accounts_with_same_email.title")}),(0,n.jsxs)(g.o,{weight:"medium",variant:"body_normal",className:"merge-user-accounts-with-same-email__text merge-user-accounts-with-same-email__text__body",copykey:"dyn_merge_user_accounts_with_same_email.existing_account",children:[S("dyn_merge_user_accounts_with_same_email.existing_account")," ",(0,n.jsx)("span",{className:"merge-user-accounts-with-same-email__text--bold",children:(0,p.E)(E,{breakpoint:14})})," ",S("dyn_merge_user_accounts_with_same_email.existing_account_trail")]}),(0,n.jsxs)("div",{className:"merge-user-accounts-with-same-email__buttons",children:[(0,n.jsx)(w.E,{className:"merge-user-accounts-with-same-email__buttons__button",onClick:()=>(0,t.s)(void 0,void 0,void 0,(function*(){try{const e=yield(0,v.kv)(o);if(!e)throw new s.ii("Something went wrong, please try again.");yield k(e),i(!1),f("authSuccess")}catch(e){if(N(S("dyn_merge_user_accounts_with_same_email.errors.merge_error")),j)return void i(!1,{emitCancelAuth:!0});I()}})),buttonVariant:"primary",buttonPadding:"large",copykey:"dyn_merge_user_accounts_with_same_email.confirm_button",children:S("dyn_merge_user_accounts_with_same_email.confirm_button")}),(0,n.jsx)(w.E,{className:"merge-user-accounts-with-same-email__buttons__button",onClick:()=>{N(void 0),e?C(e):j?i(!1):C("collect-user-data")},buttonVariant:"secondary",buttonPadding:"large",copykey:"dyn_merge_user_accounts_with_same_email.cancel_button",children:S("dyn_merge_user_accounts_with_same_email.cancel_button")})]})]})}},18078:(e,o,i)=>{i.d(o,{Z:()=>p});var t=i(74848),n=i(95081),a=(i(96540),i(24763)),s=(i(60445),i(100),i(58080),i(12174),i(29109),i(22130)),l=(i(83650),i(80066),i(54769),i(60337),i(41253)),r=i(46759),c=(i(69648),i(88393),i(14719)),d=(i(95821),i(3418),i(48702),i(10941),i(16219),i(4402),i(11011),i(40337),i(81285),i(45468),i(99157),i(7116),i(20433),i(83073),i(21029),i(47979),i(63055),i(28765),i(40961),i(20545),i(50574),i(451),i(30593),i(7085),i(87237),i(80607),i(6864),i(29147),i(72366),i(55537),i(65381),i(75705),i(27373),i(44128)),u=(i(58169),i(53006),i(74566),i(85168),i(71092),i(79620),i(22923),i(23121),i(59553),i(78080),i(11012),i(79903),i(81330)),m=(i(30261),i(96696),i(95540)),_=(i(44719),i(14624),i(53454),i(31448),i(95253),i(98592),i(18983),i(21858),i(4623),i(44917),i(94734),i(26490),i(10647),i(21416));i(26968),i(80622),i(31825),i(71172),i(44432),i(56950),i(43433),i(87583);const p=({isInitialSetup:e=!0})=>{const{handleLogOut:o}=(0,s.W)(),{t:i}=(0,n.Bd)(),{setView:p}=(0,l.At)(),v=(e=>{const o=[{Icon:void 0,descriptionKey:"dyn_mfa.choose_device_view.authenticator_app_description",labelKey:"dyn_mfa.choose_device_view.authenticator_app",type:r.Fzs.Totp}];if(!e){const e={Icon:void 0,descriptionKey:"dyn_mfa.choose_device_view.backup_code_description",labelKey:"dyn_mfa.choose_device_view.backup_code",type:"backupCode"};o.push(e)}return o})(e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.r,{alignContent:"bottom",children:(0,t.jsx)("div",{className:"otp-verification-view__status-header",children:(0,t.jsx)(d.o,{weight:"medium",variant:"title",color:"primary",className:"otp-verification-view__title",children:i(e?"dyn_mfa.choose_device_view.title":"dyn_mfa.choose_device_view.choose_another_method")})})}),(0,t.jsxs)("div",{className:"mfa-choose-device-view__body","data-testid":"mfa-choose-device-view",children:[(0,t.jsx)(a.h,{}),(0,t.jsx)(d.o,{className:"mfa-choose-device-view__copy",variant:"body_normal",weight:"regular",color:"secondary",children:i(e?"dyn_mfa.choose_device_view.select_options":"dyn_mfa.choose_device_view.choose_another_method_description")}),v.map((o=>(0,t.jsxs)(u.$,{buttonClassName:"mfa-choose-device-view__button",expanded:!0,onClick:()=>(o=>{"backupCode"!==o.type?e?p("mfa-secure-device",{type:o.type}):p("mfa-verification",{isInitialSetup:e,showBackButton:!0,type:o.type}):p("mfa-recovery",void 0,{onBackClick:()=>{p("mfa-choose-device",{isInitialSetup:!1})}})})(o),children:[(0,t.jsxs)("div",{className:"mfa-choose-device-view__button__header",children:[(0,t.jsx)(d.o,{copykey:o.labelKey,color:"primary",children:i(o.labelKey)}),(0,t.jsx)(c.h,{className:"mfa-choose-device-view__icon--rotate"})]}),(0,t.jsx)(d.o,{className:"mfa-choose-device-view__button__description",color:"secondary",copykey:o.descriptionKey,children:i(o.descriptionKey)})]},o.type))),(0,t.jsx)(_.Q,{className:"mfa-choose-device-view__logout",onClick:o,copykey:"dyn_mfa.choose_device_view.logout",children:i("dyn_mfa.choose_device_view.logout")})]})]})}},90192:(e,o,i)=>{i.d(o,{Y:()=>w});var t=i(29109),n=i(74848),a=i(96540),s=i(95081),l=(i(60445),i(100),i(58080)),r=(i(12174),i(83650),i(46759),i(69648),i(88393),i(80066),i(97233)),c=i(19096),d=(i(41253),i(95821),i(3418),i(48702),i(10941),i(16219),i(89809)),u=(i(54769),i(60337),i(4402),i(11011),i(40337),i(81285),i(45468),i(99157),i(7116),i(46659)),m=(i(20433),i(83073),i(21029),i(47979),i(63055),i(28765),i(40961),i(20545),i(50574),i(451),i(80426)),_=(i(30593),i(7085),i(87237),i(80607),i(6864),i(29147),i(72366),i(55537),i(65381),i(75705),i(27373),i(44128)),p=(i(58169),i(53006),i(74566),i(85168),i(71092),i(79620),i(22923),i(23121),i(59553),i(17632)),v=(i(78080),i(11012),i(79903),i(36100)),h=(i(30261),i(96696),i(44719),i(14624),i(53454),i(13888)),y=(i(31448),i(95253),i(98592),i(18983),i(21858),i(4623),i(44917),i(94734),i(26490),i(10647),i(23536)),g=i(92408),b=(i(26968),i(80622),i(31825),i(87496));i(71172),i(44432),i(56950),i(43433),i(87583);const w=({regenerateCodes:e=!1})=>{const{setShowAuthFlow:o}=(0,d.J)(),[i,w]=(0,a.useState)(!1),{t:f}=(0,s.Bd)(),{getRecoveryCodes:x,completeAcknowledgement:j}=(0,g.o)(),{data:k,isLoading:S}=(0,m.v)((()=>x(e))),N=(k||[]).join("\n");return(0,n.jsxs)("div",{className:"mfa-display-backup-codes-view__body","data-testid":"mfa-display-backup-codes-view",children:[(0,n.jsx)(_.o,{className:"mfa-display-backup-codes-view__copy",variant:"body_normal",weight:"regular",color:"secondary",children:f("dyn_mfa.display_backup_codes_view.body")}),(0,n.jsx)(l.F,{variant:"warning",copykey:"dyn_mfa.display_backup_codes_view.warning",className:"mfa-display-backup-codes-view__warning",children:f("dyn_mfa.display_backup_codes_view.warning")}),S?(0,n.jsx)(h.y,{className:"mfa-display-backup-codes-view__loading-spinner"}):(0,n.jsxs)("div",{className:"mfa-display-backup-codes-view__codes",children:[null==k?void 0:k.map(((e,o)=>(0,n.jsx)(_.o,{variant:"body_normal",weight:"regular",color:"secondary",className:"mfa-display-backup-codes-view__code",children:e},o))),(0,n.jsxs)("div",{className:"mfa-display-backup-codes-view__actions",children:[(0,n.jsx)(b.i,{variant:"button",textToCopy:N,copykey:"dyn_mfa.display_backup_codes_view.copy_all",startSlot:(0,n.jsx)(p.I,{size:"mini",color:"text-tertiary",children:(0,n.jsx)(r.h,{})}),children:f("dyn_mfa.display_backup_codes_view.copy_all")}),(0,n.jsx)(v.E,{dataTestId:"download-button",buttonPadding:"small",buttonVariant:"primary",onClick:e=>{e.preventDefault(),(0,u.P)("mfa-backup-codes.txt",N)},startSlot:(0,n.jsx)(c.h,{}),expanded:!0,copykey:"dyn_mfa.display_backup_codes_view.download",children:f("dyn_mfa.display_backup_codes_view.download")})]})]}),(0,n.jsxs)("div",{className:"mfa-display-backup-codes-view__complete",children:[(0,n.jsx)(v.E,{buttonClassName:"mfa-display-backup-codes-view__acknowledgement",dataTestId:"ack-button",buttonPadding:"small",buttonVariant:"primary",onClick:()=>w(!i),startSlot:(0,n.jsx)(y.S,{checked:i,onChange:()=>{w(!i)},className:"mfa-display-backup-codes-view__acknowledgement__checkbox"}),expanded:!0,typographyProps:{color:"secondary"},copykey:"dyn_mfa.display_backup_codes_view.checkbox",children:f("dyn_mfa.display_backup_codes_view.checkbox")}),(0,n.jsx)(v.E,{dataTestId:"complete-button",buttonPadding:"large",buttonVariant:"brand-primary",typographyProps:{color:"inherit"},disabled:!i,expanded:!0,copykey:"dyn_mfa.display_backup_codes_view.complete",onClick:()=>(0,t.s)(void 0,void 0,void 0,(function*(){o(!1),yield j()})),children:f("dyn_mfa.display_backup_codes_view.complete")})]})]})}}}]);